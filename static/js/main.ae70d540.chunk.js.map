{"version":3,"sources":["context/UserContext.ts","hooks/useBoolToggle.ts","components/PhoneLoginModal.tsx","components/Login.tsx","assets/icons/waves-black.png","components/NavBar.tsx","context/UsersContext.ts","assets/placeholders/userPlaceholder.png","components/ProfileCard.tsx","assets/icons/waves-blue.png","utils/animations.ts","components/Feed.tsx","components/Slider.tsx","utils/Animate.tsx","components/ModalMenu.tsx","components/Settings.tsx","components/PhotoCard.tsx","utils/validFileType.ts","utils/getImageURL.ts","components/CroppingTool.tsx","components/EditProfile.tsx","components/Profile.tsx","context/ConversationsContext.ts","components/UserIcon.ts","assets/placeholders/imgPlaceholder.png","utils/formatDate.ts","components/ChatRoom.tsx","components/Chat.tsx","components/Main.tsx","components/Header.tsx","utils/createRandomUser.ts","utils/createEmptyUser.ts","components/Match.tsx","App.tsx","firebase-config.ts","index.tsx"],"names":["UserContext","React","createContext","UserProvider","Provider","useBoolToggle","value","useState","current","setCurrent","newVal","Modal","styled","div","Label","label","Input","input","Button","button","PhoneLoginModal","phoneNumber","setPhoneNumber","captcha","useRef","loginResult","setLoginResult","code","setCode","codeErr","setCodeErr","useEffect","c","RecaptchaVerifier","size","getAuth","render","clear","onChange","type","id","onClick","signInWithPhoneNumber","toString","then","confirmationResult","catch","console","error","e","target","confirm","err","finally","StyledLogin","main","Title","h3","Subtitle","h5","ButtonContainer","LoginButton","Icon","FontAwesomeIcon","span","Login","user","useContext","isPhoneModalOpen","toggleIsPhoneModalOpen","loginHandler","useCallback","thirdParty","provider","FacebookAuthProvider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","to","icon","faMobileAlt","faFacebook","faGooglePlus","faGithub","signInAnonymously","faUserSecret","style","maxWidth","textAlign","padding","StyledNav","nav","Link","NavLink","Logo","img","NavBar","exact","activeClassName","src","wavesLogo","faComments","faUser","UsersContext","UsersProvider","FullSizeCard","ScrollableCard","StyledCard","PartialInfo","StyledPhotoWrap","userPlaceholder","PhotoContainer","props","index","IndexDiv","PhotoIndex","PhotoElem","PhotoWrap","photos","clickDispatch","currentPhoto","expandHandler","blockClicks","nativeEvent","offsetX","offsetY","offsetHeight","offsetWidth","map","photo","i","className","Panel","Header","header","Body","ExpandButton","ReduceButton","NameAgeWrap","Name","Age","City","Job","Distance","Gender","Orientation","Description","PassionsWrap","Passion","initPhoto","n","photoReducer","ProfileCard","children","compareLocation","onlyPhotos","profile","name","age","city","job","gender","orientation","description","passions","isFullSize","setIsFullSize","useReducer","length","currentUser","distance","setDistance","raw","Math","ceil","getDistance","latitude","location","lat","longitude","lon","Array","isArray","child","color","faArrowCircleDown","faHome","faMapMarkerAlt","faSuitcase","passion","faInfoCircle","getCorrectPart","openModalVert","keyframes","animationOpenModalVert","css","openModalHor","animationOpenModalHor","feedBg","animationFeedBg","StyledFeed","CardWrap","Background","logo","close","CardDiv","ButtonsWrap","EnableGlobalButton","Feed","users","avail","setAvail","showBg","setShowBg","likeHandler","uid","a","match","find","others","updateDoc","doc","db","likes","arrayUnion","sendMatchEvent","window","dispatchEvent","CustomEvent","detail","timestamp","Timestamp","now","toMillis","isHuman","includes","getDoc","data","dislikeHandler","dislikes","locationFiltered","settings","global","filter","cur","isPointWithinRadius","setTimeout","startX","startY","latestX","latestY","card","status","setStatus","statusRef","setBlockClick","moveHandler","MouseEvent","screenX","screenY","TouchEvent","preventDefault","targetTouches","transform","getBoundingClientRect","left","right","bodyWidth","document","body","clientWidth","newDiff","moveEnd","curCard","removeEventListener","transition","dataset","dragHandler","closest","findCard","addEventListener","passive","display","flexDirection","alignItems","justifyContent","fontSize","background","height","width","marginTop","slice","arr","onMouseDown","onTouchStart","data-uid","onClickCapture","faTimes","faHeart","Wrap","Range","MinRange","Thumb","Slider","min","max","minDiff","step","lo","hi","double","sliderWidth","setSliderWidth","offsetSliderWidth","setOffsetSliderWidth","slider","minRange","maxRange","offsetLeft","changeMinValue","onMouseMoveMin","onMouseUpMin","clientX","touches","dragedWidthInPercent","newMin","round","changeMaxValue","onMouseMoveMax","onMouseUpMax","newMax","ref","Animate","doOpen","animationDuration","isOpen","setIsOpen","setClassName","timeout1Ref","timeout2Ref","toggle","action","delay","clearTimeout","childrenArr","cloneElement","key","StyledModal","animation","Section","section","SubSection","SectionLabel","TopButton","TopButtonBack","faChevronLeft","TopButtonDone","TopButtonLogout","ModalMenu","buttons","title","Value","Switch","Checkbox","SwitchSlider","GithubLink","Settings","closeModal","minAge","setMinAge","maxAge","setMaxAge","setGlobal","handleClose","cb","auth","docRef","checked","signOut","href","marginLeft","BackgroundAdd","PhotoImg","FileInput","attrs","accept","CornerButton","RemovePhotoButton","PhotoCard","handlerAdd","handlerRemove","handleMove","clickAddButton","stopPropagation","click","undefined","fileTypes","validFileType","file","getImageUrl","readOrientation","applyRotation","Promise","resolve","reader","FileReader","onload","view","DataView","result","getUint16","byteLength","offset","marker","getUint32","little","tags","readAsArrayBuffer","url","image","Image","canvas","createElement","context","getContext","outputWidth","outputHeight","scale","drawImage","toDataURL","readAsDataURL","Canvas","Img","ZoomButton","initialZoom","zoom","zoomReducer","state","Error","CroppingTool","editPhoto","setEditPhoto","handleSavePhoto","setImage","setCanvas","ctx","setCtx","dispatchZoom","imgWidth","imgHeight","imgLoadStatus","setOffsetX","setOffsetY","lastX","lastY","lastTouchDist","reset","clearRect","Number","getAttribute","actualOffsetX","actualOffsetY","setupCanvas","node","setupImage","imageLoaded","moveStart","newTouchDist","hypot","pageX","pageY","newX","prev","clientY","newY","offsetTop","toBlob","blob","alt","margin","faSearchPlus","faSearchMinus","Scrollable","Tabs","Tab","TextArea","textarea","Form","form","Submit","PassionsPreview","PassionName","DeletePassion","EditProfile","setName","setAge","setDescription","setCity","setJob","setGender","setOrientation","passionInput","setPassionInput","setPassions","isClickDown","clickDownTimer","setPhotos","currentTab","setCurrentTab","fill","handleUpload","files","handleSave","userPath","userRef","store","all","photoRef","uniqid","split","uploadBytes","snap","getDownloadURL","path","metadata","fullPath","newPhotos","forEach","deleteObject","handleClickEnd","newIndex","findIndex","rows","paddingTop","onSubmit","required","disabled","position","ph","pho","StyledProfile","ButtonWrap","LabelButton","UserPhoto","Profile","whichModalOpen","setWhichModalOpen","openProfile","setOpenProfile","doOpenProfile","setDoOpenProfile","faCog","faPen","ConversationsContext","ConversationsProvider","UserIcon","formatDate","date","Date","dateISO","toISOString","toDateString","StyledIconWrap","StyledChatRoom","MessagesArea","MessageWrap","MessageDiv","InputText","InputImg","LabelInputImg","SendButton","ImagePreview","DeleteImage","FSModal","CloseButton","X","PhotoFullScreen","keyDownHandler","placeholderShown","setPlaceholderShown","onLoad","imgPlaceholder","UserIconWrap","paddingLeft","ChatRoom","convo","Boolean","messages","setMessages","convoRef","messagesRef","collection","messAreaRef","textVal","setTextVal","imgVal","setImgVal","imgURL","setImgURL","imgInputRef","fullScreen","setFullScreen","members","submitHandler","text","File","msgID","newMessage","origin","seen","assetsPresent","setDoc","latest","assets","replyId","autoReply","scroll","top","scrollHeight","behavior","unsubMessages","onSnapshot","msgDocs","docs","msgDoc","sort","b","latestMsg","message","marginBottom","currentTarget","nextElementSibling","setAttribute","faBackspace","htmlFor","faImage","onInput","ChatPage","h2","NewMatchesWrap","UserName","ConvosWrap","Convo","ConvoTextWrap","ConvoText","Chat","conversations","openConvo","setOpenConvo","findUser","marginRight","faReply","StyledMain","Main","setUsers","setConversations","unsubUsers","userDoc","unsubConvo","query","where","convoDoc","seconds","navigator","geolocation","getCurrentPosition","res","coords","StyledHeader","h1","orientations","createRandomUser","getPhotos","random","imageUrl","firstName","lorem","sentence","address","cityName","jobTitle","word","datatype","uuid","createEmptyUser","MatchListener","MatchModal","Match","setMatch","matchHandler","messageID","headerMsg","convoID","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirestore","getStorage","App","useLocation","userID","setUserID","setUser","unsub","onAuthStateChanged","newUser","exists","newObj","isAnonymous","merge","push","pathname","ReactDOM","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.ae70d540.chunk.js","sourcesContent":["import React from \"react\";\nimport { User } from \"../types\";\n\nconst UserContext = React.createContext<User | null>(null);\n\nexport const UserProvider = UserContext.Provider;\n\nexport default UserContext;\n","import { useState } from \"react\";\n\nconst useBoolToggle = (\n  value: boolean\n): [boolean, (newVal?: boolean) => void] => {\n  const [current, setCurrent] = useState<boolean>(value);\n\n  const toggleCurrent = (newVal?: boolean) =>\n    setCurrent(typeof newVal == \"boolean\" ? newVal : !current);\n\n  return [current, toggleCurrent];\n};\n\nexport default useBoolToggle;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  getAuth,\n  signInWithPhoneNumber,\n  RecaptchaVerifier,\n  ConfirmationResult,\n} from \"firebase/auth\";\nimport styled from \"styled-components\";\nimport \"react-phone-number-input/style.css\";\nimport PhoneInput, { Value } from \"react-phone-number-input\";\n\nconst Modal = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  margin: 0.5rem 0;\n  color: #424242;\n`;\n\nconst Label = styled.label`\n  font-size: 1.1rem;\n  padding-bottom: 0.5rem;\n`;\n\nconst Input = styled.input`\n  margin: 0.5rem 0;\n`;\n\nconst Button = styled.button`\n  border-radius: 100px;\n  margin: 0.5rem 0;\n  padding: 0.5rem;\n  border: 2px solid;\n  color: #424242;\n  width: 100%;\n\n  &:hover {\n    color: #3d84a8;\n  }\n`;\n\nconst PhoneLoginModal = () => {\n  const [phoneNumber, setPhoneNumber] = useState<Value | undefined>();\n  const captcha = useRef<RecaptchaVerifier>();\n  const [loginResult, setLoginResult] = useState<ConfirmationResult | null>(\n    null\n  );\n  const [code, setCode] = useState(\"\");\n  const [codeErr, setCodeErr] = useState(\"\");\n\n  const trySignIn = () => {\n    if (!captcha.current || !phoneNumber) return;\n    signInWithPhoneNumber(getAuth(), phoneNumber.toString(), captcha.current)\n      .then((confirmationResult) => {\n        setLoginResult(confirmationResult);\n      })\n      .catch(console.error);\n  };\n\n  const handleCaptcha = (c: RecaptchaVerifier) => {\n    captcha.current = c;\n    captcha.current.render();\n  };\n\n  useEffect(() => {\n    if (captcha.current) {\n      return;\n    }\n\n    handleCaptcha(\n      new RecaptchaVerifier(\n        \"login-phone\",\n        {\n          size: \"invisible\",\n        },\n        getAuth()\n      )\n    );\n\n    return () => {\n      if (captcha.current) captcha.current.clear();\n    };\n  }, []);\n\n  return (\n    <Modal>\n      <Label>Phone Number</Label>\n\n      <PhoneInput value={phoneNumber} onChange={setPhoneNumber} type=\"phone\" />\n      <Button id=\"login-phone\" onClick={() => trySignIn()}>\n        Send code\n      </Button>\n\n      {loginResult && (\n        <Modal>\n          <Label>Verif Code</Label>\n          <Input\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n            type=\"phone\"\n          />\n          {codeErr && <div>{codeErr}</div>}\n          <Button\n            onClick={() =>\n              loginResult\n                .confirm(code)\n                .catch((err) => {\n                  console.error(err);\n                  if (err.code === \"auth/invalid-verification-code\")\n                    setCodeErr(\"Invalid verificaion code. Try again.\");\n                })\n                .finally(() => setCode(\"\"))\n            }>\n            Validate\n          </Button>\n        </Modal>\n      )}\n    </Modal>\n  );\n};\n\nexport default PhoneLoginModal;\n","import {\n  getAuth,\n  signInAnonymously,\n  signInWithPopup,\n  FacebookAuthProvider,\n  GoogleAuthProvider,\n  GithubAuthProvider,\n} from \"firebase/auth\";\nimport React, { useCallback, useContext } from \"react\";\nimport { Redirect } from \"react-router\";\nimport UserContext from \"../context/UserContext\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faFacebook,\n  faGooglePlus,\n  faGithub,\n} from \"@fortawesome/free-brands-svg-icons\";\nimport { faMobileAlt, faUserSecret } from \"@fortawesome/free-solid-svg-icons\";\nimport useBoolToggle from \"../hooks/useBoolToggle\";\nimport PhoneLoginModal from \"./PhoneLoginModal\";\n\nconst StyledLogin = styled.main`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 2rem;\n`;\n\nconst Title = styled.h3`\n  margin: 1rem 0;\n`;\n\nconst Subtitle = styled.h5`\n  margin: 0.5rem 0;\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: max-content;\n  align-items: stretch;\n`;\n\nconst LoginButton = styled.button`\n  border-radius: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0.5rem 0;\n  border: 2px solid;\n  color: #424242;\n\n  &:hover {\n    color: #3d84a8;\n  }\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  width: 30px;\n  margin: 15px;\n`;\n\nconst Label = styled.span`\n  padding: 0.5rem;\n  width: 100%;\n  text-align: center;\n`;\n\nconst Login = () => {\n  const user = useContext(UserContext);\n  const [isPhoneModalOpen, toggleIsPhoneModalOpen] = useBoolToggle(false);\n\n  const loginHandler = useCallback((thirdParty) => {\n    const provider =\n      thirdParty === \"facebook\"\n        ? new FacebookAuthProvider()\n        : thirdParty === \"google\"\n        ? new GoogleAuthProvider()\n        : new GithubAuthProvider();\n\n    signInWithPopup(getAuth(), provider).catch(() => null);\n  }, []);\n\n  return (\n    <StyledLogin>\n      {user && <Redirect to=\"/\" />}\n      <Title>GET STARTED</Title>\n      <Subtitle>Start meeting interesting people today.</Subtitle>\n      <ButtonContainer>\n        <LoginButton onClick={() => toggleIsPhoneModalOpen()}>\n          <Icon icon={faMobileAlt} />\n          <Label>Log in with phone number</Label>\n        </LoginButton>\n        {isPhoneModalOpen && <PhoneLoginModal />}\n        <LoginButton onClick={() => loginHandler(\"facebook\")}>\n          <Icon icon={faFacebook} />\n          <Label>Log in with Facebook</Label>\n        </LoginButton>\n        <LoginButton onClick={() => loginHandler(\"google\")}>\n          <Icon icon={faGooglePlus} />\n          <Label>Log in with Google</Label>\n        </LoginButton>\n        <LoginButton onClick={() => loginHandler(\"github\")}>\n          <Icon icon={faGithub} />\n          <Label>Log in with Github</Label>\n        </LoginButton>\n        <LoginButton onClick={() => signInAnonymously(getAuth())}>\n          <Icon icon={faUserSecret} />\n          <Label>Log in as Guest</Label>\n        </LoginButton>\n      </ButtonContainer>\n      <div style={{ maxWidth: \"80%\", textAlign: \"center\", padding: \"0.25rem\" }}>\n        Using a guest account will create a populated profile for you, but you\n        will still be able to edit the profile and use all of the app's\n        functionalities.\n      </div>\n      <div style={{ maxWidth: \"80%\", textAlign: \"center\", padding: \"0.25rem\" }}>\n        Unless you log out of the account, it will remain accessible. Use the\n        other log in methods to backup your account.\n      </div>\n    </StyledLogin>\n  );\n};\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/waves-black.a4e0f7e0.png\";","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faComments, faUser } from \"@fortawesome/free-solid-svg-icons\";\nimport wavesLogo from \"../assets/icons/waves-black.png\";\n\nconst StyledNav = styled.nav`\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: space-evenly;\n  position: absolute;\n  bottom: 0;\n  height: 8vh;\n\n  @media (min-height: 650px) {\n    height: 10vh;\n  }\n`;\n\nconst Link = styled(NavLink)`\n  color: unset;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  color: grey;\n\n  .active & {\n    color: #46cdcf;\n  }\n`;\n\nconst Logo = styled.img`\n  width: 2.2em;\n  height: 2.2em;\n  filter: invert(39%) sepia(97%) saturate(0%) hue-rotate(213deg)\n    brightness(107%) contrast(113%);\n\n  .active & {\n    filter: invert(98%) sepia(85%) saturate(6941%) hue-rotate(139deg)\n      brightness(87%) contrast(83%);\n  }\n`;\n\nconst NavBar = () => {\n  return (\n    <StyledNav>\n      <Link exact to=\"/\" activeClassName=\"active\">\n        <Logo src={wavesLogo} />\n      </Link>\n      <Link exact to=\"/chat\" activeClassName=\"active\">\n        <Icon size=\"2x\" icon={faComments} />\n      </Link>\n      <Link to=\"/profile\" activeClassName=\"active\">\n        <Icon size=\"2x\" icon={faUser} />\n      </Link>\n    </StyledNav>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { User } from \"../types\";\n\nconst UsersContext = React.createContext<User[]>([]);\n\nexport const UsersProvider = UsersContext.Provider;\n\nexport default UsersContext;\n","export default __webpack_public_path__ + \"static/media/userPlaceholder.5039c5ad.png\";","import React, {\n  Dispatch,\n  SyntheticEvent,\n  useContext,\n  useEffect,\n  useReducer,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { Location, Photo, User } from \"../types\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faInfoCircle,\n  faMapMarkerAlt,\n  faHome,\n  faSuitcase,\n  faArrowCircleDown,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport UserContext from \"../context/UserContext\";\nimport { getDistance } from \"geolib\";\nimport userPlaceholder from \"../assets/placeholders/userPlaceholder.png\";\n\nconst Icon = styled(FontAwesomeIcon)`\n  min-width: 25px;\n  display: block;\n`;\n\nconst FullSizeCard = styled.div`\n  color: #606060;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  right: 0;\n  width: 100%;\n  min-height: 100vh;\n  max-height: 100vh;\n  background: #e6e7e8;\n  z-index: 80;\n\n  &.only-photo {\n    background: transparent;\n  }\n`;\n\nconst ScrollableCard = styled.div`\n  color: #606060;\n  width: 100%;\n  max-height: 100vh;\n  overflow-y: scroll;\n`;\n\nconst StyledCard = styled.div`\n  border-radius: 8px;\n  width: 300px;\n  height: 450px;\n  position: absolute;\n  background: #e6e7e8;\n  color: #f5f5f5;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n`;\n\nconst PartialInfo = styled.div`\n  width: 100%;\n  padding: 0.5rem 2.5%;\n  background: linear-gradient(0deg, black 40%, transparent);\n  position: relative;\n  border-radius: 0 0 8px 8px;\n`;\n\nconst StyledPhotoWrap = styled.div`\n  height: 450px;\n  display: flex;\n  width: 300px;\n  overflow-x: hidden;\n  position: absolute;\n  background: center / contain no-repeat url(${userPlaceholder}), #e6e7e8;\n  border-radius: 8px;\n\n  .full-size & {\n    position: relative;\n    margin: 0 auto;\n    width: calc(70vh / 1.34);\n    height: 70vh;\n  }\n`;\n\nconst PhotoContainer = styled.div`\n  height: 450px;\n  display: flex;\n  width: 300px;\n  position: absolute;\n  left: calc(-${(props: { index: number }) => props.index} * 100%);\n\n  .full-size & {\n    width: calc(70vh / 1.34);\n    height: 70vh;\n  }\n`;\n\nconst IndexDiv = styled.div`\n  width: 95%;\n  left: 2.5%;\n  height: 4px;\n  display: flex;\n  position: absolute;\n  top: 4px;\n`;\n\nconst PhotoIndex = styled.div`\n  width: 100%;\n  background: #f5f5f5;\n  opacity: 0.4;\n  margin: 0 3px;\n  border-radius: 8px;\n\n  &.active {\n    opacity: 1;\n  }\n`;\n\nconst PhotoElem = styled.img`\n  width: 100%;\n  height: 100%;\n  border-radius: 8px;\n`;\n\ninterface PhotoWrapProps {\n  photos: Photo[];\n  clickDispatch: Dispatch<{ type: \"next\" | \"prev\" | \"init\" }>;\n  currentPhoto: number;\n  expandHandler?: () => void;\n  blockClicks?: boolean;\n}\n\nconst PhotoWrap = ({\n  photos,\n  clickDispatch,\n  currentPhoto,\n  expandHandler,\n  blockClicks,\n}: PhotoWrapProps) => {\n  const clickHandler = (e: SyntheticEvent) => {\n    if (blockClicks) return;\n    const target = e.target as HTMLElement;\n    const { offsetX, offsetY } = e.nativeEvent as PointerEvent;\n    if (offsetY / target.offsetHeight > 2 / 3 && expandHandler)\n      return expandHandler();\n    if (offsetX / target.offsetWidth < 1 / 2)\n      return clickDispatch({ type: \"prev\" });\n    if (offsetX / target.offsetWidth >= 1 / 2)\n      return clickDispatch({ type: \"next\" });\n  };\n\n  return (\n    <StyledPhotoWrap onClick={clickHandler}>\n      <PhotoContainer index={currentPhoto}>\n        {photos.map((photo, i) => (\n          <PhotoElem key={i} src={photo.src} />\n        ))}\n      </PhotoContainer>\n      <IndexDiv>\n        {photos.map((photo, i) => (\n          <PhotoIndex key={i} className={i === currentPhoto ? \"active\" : \"\"} />\n        ))}{\" \"}\n      </IndexDiv>\n    </StyledPhotoWrap>\n  );\n};\n\nconst Panel = styled.main`\n  background: #f5f5f5;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  position: relative;\n  padding-bottom: 6rem;\n`;\n\nconst Header = styled.header`\n  display: flex;\n  flex-direction: column;\n  border-bottom: 1px solid #606060;\n  padding: 0.5rem;\n\n  & > * {\n    margin: 0.25rem 0;\n  }\n`;\n\nconst Body = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n\n  & > * {\n    margin: 0.25rem 0;\n  }\n`;\n\nconst ExpandButton = styled.button`\n  border: 0;\n  position: absolute;\n  background: 0;\n  top: -5px;\n  right: 0;\n`;\n\nconst ReduceButton = styled.button`\n  background: #f5f5f5;\n  width: 2em;\n  height: 2em;\n  padding: 0;\n  border: 0;\n  border-radius: 50%;\n  position: absolute;\n  top: -20px;\n  right: 15px;\n\n  & > * {\n    transform-origin: center center;\n    transform: scale(1.1);\n  }\n`;\n\nconst NameAgeWrap = styled.div`\n  display: flex;\n  align-items: end;\n`;\n\nconst Name = styled.div`\n  margin-right: 1rem;\n  font-size: max(1.5em, 25px);\n`;\n\nconst Age = styled.div`\n  font-size: max(1.1em, 18px);\n`;\n\nconst City = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0.25rem 0;\n`;\n\nconst Job = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Distance = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Gender = styled.div``;\n\nconst Orientation = styled.div``;\n\nconst Description = styled.div`\n  white-space: pre-wrap;\n\n  line-height: 1.1rem;\n  position: relative;\n  max-width: 85%;\n\n  :not(.full-size &) {\n    max-height: 4.4rem;\n\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    line-clamp: 3;\n    -webkit-box-orient: vertical;\n  }\n`;\n\nconst PassionsWrap = styled.div`\n  width: 95%;\n  display: flex;\n  flex-wrap: wrap;\n`;\n\nconst Passion = styled.div`\n  padding: 0.25rem 0.5rem;\n  border: 1px solid;\n  border-color: inherit;\n  margin: 0.2rem;\n  border-radius: 20px;\n`;\n\nconst initPhoto = (n: number) => ({ currentPhoto: 0, n });\n\nconst photoReducer = (\n  { n, currentPhoto }: { n: number; currentPhoto: number },\n  { type }: { type: \"next\" | \"prev\" | \"init\" }\n) => {\n  switch (type) {\n    case \"next\":\n      return {\n        n,\n        currentPhoto: currentPhoto + 1 < n ? currentPhoto + 1 : currentPhoto,\n      };\n    case \"prev\":\n      return { n, currentPhoto: currentPhoto === 0 ? 0 : currentPhoto - 1 };\n    case \"init\":\n      return initPhoto(n);\n  }\n};\n\nconst ProfileCard = ({\n  user,\n  compareLocation,\n  children,\n  onlyPhotos,\n  blockClicks,\n}: {\n  user: User;\n  compareLocation?: Location;\n  children?: JSX.Element | JSX.Element[];\n  onlyPhotos?: boolean;\n  blockClicks?: boolean;\n}) => {\n  const {\n    name,\n    age,\n    city,\n    job,\n    gender,\n    orientation,\n    description,\n    passions,\n    photos,\n  } = user.profile;\n\n  const [isFullSize, setIsFullSize] = useState(false);\n  const [{ currentPhoto }, clickDispatch] = useReducer(\n    photoReducer,\n    photos.length,\n    initPhoto\n  );\n\n  const currentUser = useContext(UserContext);\n\n  const [distance, setDistance] = useState(0);\n\n  useEffect(() => {\n    if (!user || !currentUser) return;\n    const raw = Math.ceil(\n      getDistance(\n        { latitude: user.location.lat, longitude: user.location.lon },\n        {\n          latitude: currentUser.location.lat,\n          longitude: currentUser?.location.lon,\n        }\n      ) / 1000\n    );\n    setDistance(raw <= 0 ? 1 : raw);\n  }, [currentUser, user]);\n\n  const getCorrectPart = (currentPhoto: number): JSX.Element | null => {\n    switch (currentPhoto) {\n      case 0:\n        return description ? (\n          <Description>{description}</Description>\n        ) : passions[0] ? (\n          <PassionsWrap>\n            {passions.map((passion, i) => (\n              <Passion key={i}>{passion}</Passion>\n            ))}\n          </PassionsWrap>\n        ) : city || distance || job ? (\n          <>\n            {city && (\n              <City>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faHome} />\n                Lives in {city}\n              </City>\n            )}\n            {distance && (\n              <Distance>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faMapMarkerAlt} />\n                {distance} {distance === 1 ? \"kilometer\" : \"kilometers\"} away\n              </Distance>\n            )}\n            {job && (\n              <Job>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faSuitcase} />\n                {job}\n              </Job>\n            )}\n          </>\n        ) : null;\n      case 1:\n        return passions[0] ? (\n          <PassionsWrap>\n            {passions.map((passion, i) => (\n              <Passion key={i}>{passion}</Passion>\n            ))}\n          </PassionsWrap>\n        ) : city || distance || job ? (\n          <>\n            {city && (\n              <City>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faHome} />\n                Lives in {city}\n              </City>\n            )}\n            {distance && (\n              <Distance>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faMapMarkerAlt} />\n                {distance} {distance === 1 ? \"kilometer\" : \"kilometers\"} away\n              </Distance>\n            )}\n            {job && (\n              <Job>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faSuitcase} />\n                {job}\n              </Job>\n            )}\n          </>\n        ) : description ? (\n          <Description>{description}</Description>\n        ) : null;\n      default:\n        return city || distance || job ? (\n          <>\n            {city && (\n              <City>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faHome} />\n                Lives in {city}\n              </City>\n            )}\n            {distance && (\n              <Distance>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faMapMarkerAlt} />\n                {distance} {distance === 1 ? \"kilometer\" : \"kilometers\"} away\n              </Distance>\n            )}\n            {job && (\n              <Job>\n                <Icon size=\"xs\" color=\"#f5f5f5\" icon={faSuitcase} />\n                {job}\n              </Job>\n            )}\n          </>\n        ) : passions[0] ? (\n          <PassionsWrap>\n            {passions.map((passion, i) => (\n              <Passion key={i}>{passion}</Passion>\n            ))}\n          </PassionsWrap>\n        ) : description ? (\n          <Description>{description}</Description>\n        ) : null;\n    }\n  };\n\n  if (onlyPhotos)\n    return (\n      <FullSizeCard className=\"full-size only-photo\">\n        <PhotoWrap\n          currentPhoto={currentPhoto}\n          clickDispatch={clickDispatch}\n          photos={photos}\n        />\n        {children && Array.isArray(children)\n          ? children.map((child) => child)\n          : children}\n      </FullSizeCard>\n    );\n\n  return (\n    <>\n      {isFullSize ? (\n        <FullSizeCard className=\"full-size\">\n          <ScrollableCard>\n            <PhotoWrap\n              currentPhoto={currentPhoto}\n              clickDispatch={clickDispatch}\n              photos={photos}\n            />\n            <Panel>\n              <ReduceButton onClick={() => setIsFullSize(false)}>\n                <Icon size=\"2x\" color=\"blue\" icon={faArrowCircleDown} />\n              </ReduceButton>\n              <Header>\n                <NameAgeWrap>\n                  <Name>{name}</Name>\n                  <Age>{age}</Age>\n                </NameAgeWrap>\n                {city && (\n                  <City>\n                    <Icon size=\"sm\" color=\"#606060\" icon={faHome} />\n                    Lives in {city}\n                  </City>\n                )}\n                {distance && (\n                  <Distance>\n                    <Icon size=\"sm\" color=\"#606060\" icon={faMapMarkerAlt} />\n                    {distance} {distance === 1 ? \"kilometer\" : \"kilometers\"}{\" \"}\n                    away\n                  </Distance>\n                )}\n                {job && (\n                  <Job>\n                    <Icon size=\"sm\" color=\"#606060\" icon={faSuitcase} />\n                    {job}\n                  </Job>\n                )}\n                <Gender>{gender}</Gender>\n                <Orientation>{orientation}</Orientation>\n                <PassionsWrap>\n                  {passions.map((passion, i) => (\n                    <Passion key={i}>{passion}</Passion>\n                  ))}\n                </PassionsWrap>\n              </Header>\n              <Body>\n                <Description>{description}</Description>\n              </Body>\n              {children && Array.isArray(children)\n                ? children.map((child) => child)\n                : children}\n            </Panel>\n          </ScrollableCard>\n        </FullSizeCard>\n      ) : (\n        <StyledCard className=\"profile-card\">\n          <PhotoWrap\n            currentPhoto={currentPhoto}\n            clickDispatch={clickDispatch}\n            photos={photos}\n            expandHandler={() => setIsFullSize(true)}\n            blockClicks={blockClicks}\n          />\n          <PartialInfo\n            onClick={() => {\n              if (!blockClicks) setIsFullSize(true);\n            }}>\n            <ExpandButton\n              onClick={() => {\n                if (!blockClicks) setIsFullSize(true);\n              }}>\n              <Icon size=\"1x\" color=\"#f5f5f5\" icon={faInfoCircle} />\n            </ExpandButton>\n            <NameAgeWrap>\n              <Name>{name}</Name>\n              <Age>{age}</Age>\n            </NameAgeWrap>\n            {getCorrectPart(currentPhoto)}\n            {children && Array.isArray(children)\n              ? children.map((child) => child)\n              : children}\n          </PartialInfo>\n        </StyledCard>\n      )}\n    </>\n  );\n};\n\nexport default ProfileCard;\n","export default __webpack_public_path__ + \"static/media/waves-blue.0d3d0a6d.png\";","import { css, keyframes } from \"styled-components\";\n\nconst openModalVert = keyframes`\n0% {\n  top: 100vh;\n}\n100% {\n  top: 0;\n}\n`;\n\nconst animationOpenModalVert = css`\n  ${openModalVert} 0.3s ease-in-out forwards\n`;\n\nconst openModalHor = keyframes`\n0% {\n  left: 100vw;\n}\n100% {\n  left: 0;\n}\n`;\n\nconst animationOpenModalHor = css`\n  ${openModalHor} 0.3s ease-in-out forwards\n`;\n\nconst feedBg = keyframes`\n0% {\n  width: 25vw;\n  height: 25vw;\n}\n100% {\n  width: 75vw;\n  height: 75vw;\n}`;\n\nconst animationFeedBg = css`\n  ${feedBg} 1.5s linear infinite\n`;\n\nexport { animationOpenModalVert, animationOpenModalHor, animationFeedBg };\n","import React, {\n  SyntheticEvent,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport UserContext from \"../context/UserContext\";\nimport UsersContext from \"../context/UsersContext\";\nimport { User } from \"../types\";\nimport ProfileCard from \"./ProfileCard\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHeart, faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  updateDoc,\n  doc,\n  arrayUnion,\n  Timestamp,\n  getDoc,\n} from \"firebase/firestore\";\nimport { db } from \"../App\";\nimport { isPointWithinRadius } from \"geolib\";\nimport logo from \"../assets/icons/waves-blue.png\";\nimport { animationFeedBg } from \"../utils/animations\";\n\nconst StyledFeed = styled.main`\n  height: calc(100% - 8vh);\n  padding: 0.5rem 0.5rem;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n\n  @media (min-height: 650px) {\n    padding: 4rem 0.5rem;\n    height: calc(100% - 10vh);\n  }\n`;\n\nconst CardWrap = styled.div`\n  position: relative;\n  height: 400px;\n  width: 300px;\n\n  & > * {\n    top: 0;\n  }\n`;\n\nconst Background = styled.div`\n  width: 100%;\n  height: 100%;\n  background: center / contain no-repeat url(${logo}), #f4f4f4;\n  background-size: 20vw;\n  position: absolute;\n  z-index: ${({ close }: { close: boolean }) => (close ? -1 : 150)};\n  transition: all 2s linear;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n\n  opacity: ${({ close }: { close: boolean }) => (close ? 0 : 1)};\n\n  ::before {\n    content: \"\";\n    display: block;\n    width: 25vw;\n    height: 25vw;\n    border: 2px solid #46cdcf;\n    border-radius: 50%;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    animation: ${animationFeedBg};\n  }\n\n  ::after {\n    content: \"\";\n    display: block;\n    width: 75vw;\n    height: 75vw;\n    border: 2px solid #46cdcf;\n    border-radius: 50%;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    animation: ${animationFeedBg};\n    animation-direction: reverse;\n  }\n`;\n\nconst CardDiv = styled.div`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  border-radius: 8px;\n  transition: tranform 0.01s linear;\n\n  &.like {\n    ::after {\n      content: \"Like\";\n      display: block;\n      color: #4ecd97;\n      font-size: 2rem;\n      line-height: 2rem;\n      font-weight: 700;\n      top: 3rem;\n      border: 5px dashed;\n      border-radius: 20px;\n      padding: 0.5rem;\n      right: 1.5rem;\n      position: absolute;\n      transform: rotate(10deg);\n    }\n  }\n  &.dislike {\n    ::after {\n      content: \"Pass\";\n      display: block;\n      color: #fb745d;\n      font-size: 2rem;\n      line-height: 2rem;\n      font-weight: 700;\n      top: 3rem;\n      border: 5px dashed;\n      border-radius: 20px;\n      padding: 0.5rem;\n      left: 1.5rem;\n      position: absolute;\n      transform: rotate(-10deg);\n    }\n  }\n`;\n\nconst Icon = styled(FontAwesomeIcon)``;\n\nconst ButtonsWrap = styled.div`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: space-evenly;\n  position: relative;\n  padding: 0.25em;\n\n  .full-size & {\n    width: calc(100% - 15px);\n    bottom: 0;\n    position: fixed;\n    padding: 1rem;\n    background: linear-gradient(0deg, #f5f5f5 40%, transparent);\n  }\n`;\n\nconst Button = styled.button`\n  background: 0;\n  border: 2px solid ${(props: { color?: string }) => props.color || \"black\"};\n  border-radius: 50%;\n  width: 2.6em;\n  height: 2.6em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst EnableGlobalButton = styled.button`\n  border: 0;\n  background: #3d84a8;\n  padding: 0.5rem;\n  margin-top: 0.5rem;\n  color: #fafafa;\n  border-radius: 20px;\n\n  &:hover {\n    background: #46cdcf;\n    transform: scale(1.1);\n  }\n`;\n\nconst Feed = () => {\n  const user = useContext(UserContext);\n  const users = useContext(UsersContext);\n  const [avail, setAvail] = useState<User[]>([]);\n  const [showBg, setShowBg] = useState(true);\n\n  const likeHandler = async (uid: string) => {\n    if (!user || !uid) return;\n\n    const match = users.find((others) => others.uid === uid) as User;\n\n    updateDoc(doc(db, \"users\", user.uid), {\n      likes: arrayUnion(uid),\n    });\n\n    const sendMatchEvent = () =>\n      window.dispatchEvent(\n        new CustomEvent(\"newMatch\", {\n          detail: {\n            match,\n            timestamp: Timestamp.now().toMillis(),\n          },\n        })\n      );\n\n    if (!match.isHuman || match.likes.includes(user.uid)) {\n      sendMatchEvent();\n    } else {\n      const matchDoc = await getDoc(doc(db, \"users\", match.uid));\n      if ((matchDoc.data() as User).likes.includes(user.uid)) {\n        sendMatchEvent();\n      }\n    }\n  };\n\n  const dislikeHandler = (uid: string) => {\n    if (!user || !uid) return;\n    updateDoc(doc(db, \"users\", user.uid), {\n      dislikes: arrayUnion(uid),\n    });\n  };\n\n  useEffect(() => {\n    if (!user || !users) return;\n\n    const locationFiltered = user.settings.global\n      ? users\n      : users.filter((cur) =>\n          isPointWithinRadius(\n            {\n              latitude: user.location.lat,\n              longitude: user.location.lon,\n            },\n            {\n              latitude: cur.location.lat,\n              longitude: cur.location.lon,\n            },\n            user.settings.distance * 1000\n          )\n        );\n\n    setAvail(\n      locationFiltered.filter(\n        (cur) =>\n          cur.uid !== user.uid &&\n          !user.likes.includes(cur.uid) &&\n          !user.dislikes.includes(cur.uid)\n      )\n    );\n    window.setTimeout(() => setShowBg(false), 2000);\n  }, [user, users]);\n\n  const enableGlobal = () => {\n    if (!user) return;\n    updateDoc(doc(db, \"users\", user.uid), {\n      \"settings.global\": true,\n    });\n  };\n\n  const startX = useRef<number | null>(null);\n  const startY = useRef<number | null>(null);\n  const latestX = useRef<number | null>(null);\n  const latestY = useRef<number | null>(null);\n  const card = useRef<HTMLElement | null>(null);\n\n  const [status, setStatus] = useState<null | \"like\" | \"dislike\">(null);\n  const statusRef = useRef<null | \"like\" | \"dislike\">(null);\n  const [blockClicks, setBlockClick] = useState(false);\n\n  const moveHandler = (e: MouseEvent | TouchEvent) => {\n    if (!card.current) return;\n\n    setBlockClick(true);\n\n    latestX.current = 0;\n    latestY.current = 0;\n\n    if (e instanceof MouseEvent) {\n      latestX.current = e.screenX;\n      latestY.current = e.screenY;\n    } else if (e instanceof TouchEvent) {\n      e.preventDefault();\n      latestX.current = e.targetTouches[0].screenX;\n      latestY.current = e.targetTouches[0].screenY;\n    }\n\n    if (!startX.current || !startY.current) {\n      startX.current = latestX.current;\n      startY.current = latestY.current;\n      return;\n    }\n\n    card.current.style.transform =\n      \"translate(\" +\n      (latestX.current - startX.current) +\n      \"px,\" +\n      (latestY.current - startY.current) +\n      \"px) rotate(\" +\n      (latestX.current - startX.current) / 20 +\n      \"deg)\";\n\n    const { left, right } = card.current.getBoundingClientRect();\n    const bodyWidth = document.body.clientWidth;\n    const newDiff = latestX.current - startX.current;\n    if (newDiff < 50 && newDiff > -50) {\n      setStatus(null);\n      statusRef.current = null;\n    } else if (right > bodyWidth * 0.85) {\n      setStatus(\"like\");\n      statusRef.current = \"like\";\n    } else if (left < bodyWidth * 0.15) {\n      setStatus(\"dislike\");\n      statusRef.current = \"dislike\";\n    } else {\n      setStatus(null);\n      statusRef.current = null;\n    }\n  };\n\n  const moveEnd = (e: MouseEvent | TouchEvent) => {\n    document.removeEventListener(\"mousemove\", moveHandler);\n    document.removeEventListener(\"mouseup\", moveEnd);\n\n    document.removeEventListener(\"touchmove\", moveHandler);\n    document.removeEventListener(\"touchend\", moveEnd);\n\n    let curCard: HTMLElement;\n    if (card.current) {\n      curCard = card.current;\n      curCard.style.transition = \"all 0.3s linear\";\n    }\n\n    if (card.current && !statusRef.current) {\n      curCard!.style.transform = \"\";\n      window.setTimeout(() => {\n        curCard.style.transition = \"\";\n      }, 300);\n    } else if (\n      card.current &&\n      startX.current &&\n      startY.current &&\n      latestX.current &&\n      latestY.current\n    ) {\n      switch (statusRef.current) {\n        case \"like\":\n          card.current.style.transform =\n            \"translate(100vw,\" +\n            (latestY.current - startY.current) +\n            \"px) rotate(25deg)\";\n          window.setTimeout(() => {\n            likeHandler(curCard!.dataset.uid || \"\");\n          }, 300);\n          break;\n        case \"dislike\":\n          card.current.style.transform =\n            \"translate(-100vw,\" +\n            (latestY.current - startY.current) +\n            \"px) rotate(\" +\n            (latestX.current - startX.current) / 20 +\n            \"deg)\";\n          window.setTimeout(() => {\n            dislikeHandler(curCard!.dataset.uid || \"\");\n          }, 300);\n      }\n    }\n\n    startX.current = null;\n    startY.current = null;\n    latestX.current = null;\n    latestY.current = null;\n    setStatus(null);\n    statusRef.current = null;\n    card.current = null;\n  };\n\n  const dragHandler = (e: SyntheticEvent) => {\n    if ((e.target as HTMLElement).closest(\".full-size\")) return;\n    setBlockClick(false);\n    e.preventDefault();\n\n    const findCard = (e.target as HTMLElement).closest(\".card-wrap\");\n    if (findCard) {\n      card.current = findCard as HTMLElement;\n\n      document.addEventListener(\"mousemove\", moveHandler, { passive: false });\n      document.addEventListener(\"mouseup\", moveEnd);\n\n      document.addEventListener(\"touchmove\", moveHandler, { passive: false });\n      document.addEventListener(\"touchend\", moveEnd);\n    }\n  };\n  return (\n    <StyledFeed>\n      {showBg && <Background close={!!avail.length} />}\n\n      <CardWrap>\n        {!avail.length && user && !user.settings.global && (\n          <CardDiv\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              textAlign: \"center\",\n              fontSize: \"1.1rem\",\n              background: \"#f4f4f4\",\n              height: \"100%\",\n              width: \"100%\",\n            }}>\n            No one found in your search perimeter.\n            <div\n              style={{\n                width: \"100%\",\n                marginTop: \"1rem\",\n              }}>\n              <div>\n                You should probably\n                <EnableGlobalButton onClick={() => enableGlobal()}>\n                  Enable Global Search\n                </EnableGlobalButton>\n              </div>\n            </div>\n          </CardDiv>\n        )}\n        {avail.slice(0, 2).map((cur, i, arr) => (\n          <CardDiv\n            onMouseDown={dragHandler}\n            onTouchStart={dragHandler}\n            key={cur.uid}\n            data-uid={cur.uid}\n            className={\n              i === arr.length - 1\n                ? status === \"like\"\n                  ? \"card-wrap like\"\n                  : status === \"dislike\"\n                  ? \"card-wrap dislike\"\n                  : \"card-wrap\"\n                : \"card-wrap\"\n            }>\n            <ProfileCard user={cur} blockClicks={blockClicks}>\n              <ButtonsWrap\n                onClickCapture={() => {\n                  setBlockClick(true);\n                  window.setTimeout(() => setBlockClick(false), 100);\n                }}>\n                <Button color=\"#FB745D\" onClick={() => dislikeHandler(cur.uid)}>\n                  <Icon color=\"#FB745D\" size=\"lg\" icon={faTimes} />\n                </Button>\n                <Button color=\"#4ECD97\" onClick={() => likeHandler(cur.uid)}>\n                  <Icon color=\"#4ECD97\" size=\"lg\" icon={faHeart} />\n                </Button>\n              </ButtonsWrap>\n            </ProfileCard>\n          </CardDiv>\n        ))}\n      </CardWrap>\n    </StyledFeed>\n  );\n};\n\nexport default Feed;\n","import React, { useEffect, useRef, useState, SyntheticEvent } from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrap = styled.div`\n  position: relative;\n  margin: 3vh auto;\n  width: ${({ width }: { width?: string }) => width || \"240px\"};\n  height: 5px;\n  background: lightgrey;\n  border-radius: 5px;\n  cursor: pointer;\n`;\n\nconst Range = styled.div`\n  position: absolute;\n  top: 0;\n  z-index: 1;\n  width: 0;\n  height: 5px;\n  border-radius: 5px;\n  background: #46cdcf;\n`;\n\nconst MinRange = styled(Range)`\n  z-index: 2;\n  background: lightgrey;\n`;\n\nconst Thumb = styled.div`\n  position: absolute;\n  right: -12.5px;\n  top: -10px;\n  width: 25px;\n  height: 25px;\n  border-radius: 50%;\n  background: #fafafa;\n  transition: all 0.3s;\n  box-shadow: 0 0 0 2px rgba(39, 70, 132, 0.2);\n\n  &:hover,\n  &:active {\n    box-shadow: 0 0 0 6px rgba(39, 70, 132, 0.2);\n  }\n`;\n\nconst Slider = ({\n  min = 0,\n  max = 100,\n  minDiff = 1,\n  step = 1,\n  lo = [0, (n: number) => {}],\n  hi = [100, (n: number) => {}],\n  double = false,\n  width,\n}: {\n  min?: number;\n  max: number;\n  minDiff?: number;\n  step?: number;\n  lo?: [number, (n: number) => void];\n  hi: [number, (n: number) => void];\n  double?: boolean;\n  width?: string;\n}) => {\n  const [sliderWidth, setSliderWidth] = useState(0);\n  const [offsetSliderWidth, setOffsetSliderWidth] = useState(0);\n\n  const slider = useRef<HTMLDivElement>(null);\n  const minRange = useRef<HTMLDivElement>(null);\n  const maxRange = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!maxRange.current) return;\n    maxRange.current.style.width = ((hi[0] - min) / (max - min)) * 100 + \"%\";\n\n    if (!minRange.current) return;\n    minRange.current.style.width = ((lo[0] - min) / (max - min)) * 100 + \"%\";\n  }, [minRange, maxRange, lo, hi, min, max]);\n\n  useEffect(() => {\n    if (!slider.current) return;\n    setSliderWidth(slider.current.offsetWidth);\n    setOffsetSliderWidth(slider.current.offsetLeft);\n  }, [slider]);\n\n  const changeMinValue = (e: SyntheticEvent) => {\n    e.preventDefault();\n\n    document.addEventListener(\"mousemove\", onMouseMoveMin);\n    document.addEventListener(\"mouseup\", onMouseUpMin);\n\n    document.addEventListener(\"touchmove\", onMouseMoveMin);\n    document.addEventListener(\"touchend\", onMouseUpMin);\n  };\n\n  const onMouseMoveMin = (e: MouseEvent | TouchEvent): void => {\n    let clientX = 0;\n    if (e instanceof MouseEvent) {\n      clientX = e.clientX;\n    } else if (e instanceof TouchEvent) {\n      clientX = e.touches[0].clientX;\n    }\n\n    const dragedWidth = clientX - offsetSliderWidth;\n    const dragedWidthInPercent = (dragedWidth * 100) / sliderWidth;\n    const newMin: number = Math.round(\n      (dragedWidthInPercent * (max - min)) / 100 + min\n    );\n\n    if (newMin >= min && newMin <= hi[0] - minDiff) {\n      if (!minRange || !minRange.current) return;\n      minRange.current.style.width = dragedWidthInPercent + \"%\";\n\n      lo[1](newMin);\n    }\n  };\n\n  const onMouseUpMin = (): void => {\n    document.removeEventListener(\"mouseup\", onMouseUpMin);\n    document.removeEventListener(\"mousemove\", onMouseMoveMin);\n\n    document.removeEventListener(\"touchend\", onMouseUpMin);\n    document.removeEventListener(\"touchmove\", onMouseMoveMin);\n  };\n\n  const changeMaxValue = (e: SyntheticEvent): void => {\n    e.preventDefault();\n\n    document.addEventListener(\"mousemove\", onMouseMoveMax);\n    document.addEventListener(\"mouseup\", onMouseUpMax);\n\n    document.addEventListener(\"touchmove\", onMouseMoveMax);\n    document.addEventListener(\"touchend\", onMouseUpMax);\n  };\n\n  const onMouseMoveMax = (e: MouseEvent | TouchEvent): void => {\n    let clientX = 0;\n\n    if (e instanceof MouseEvent) {\n      clientX = e.clientX;\n    } else if (e instanceof TouchEvent) {\n      clientX = e.touches[0].clientX;\n    }\n\n    const dragedWidth = clientX - offsetSliderWidth;\n    const dragedWidthInPercent = (dragedWidth * 100) / sliderWidth;\n    const newMax = Math.round((dragedWidthInPercent * (max - min)) / 100 + min);\n\n    if (newMax >= lo[0] + minDiff && newMax <= max) {\n      if (!maxRange || !maxRange.current) return;\n      maxRange.current.style.width = dragedWidthInPercent + \"%\";\n\n      hi[1](newMax);\n    }\n  };\n\n  const onMouseUpMax = (): void => {\n    document.removeEventListener(\"mouseup\", onMouseUpMax);\n    document.removeEventListener(\"mousemove\", onMouseMoveMax);\n\n    document.removeEventListener(\"touchend\", onMouseUpMax);\n    document.removeEventListener(\"touchmove\", onMouseMoveMax);\n  };\n\n  return (\n    <Wrap width={width} ref={slider}>\n      {double && (\n        <MinRange ref={minRange}>\n          <Thumb\n            onMouseDown={(e) => changeMinValue(e)}\n            onTouchStart={(e) => changeMinValue(e)}\n          />\n        </MinRange>\n      )}\n      <Range ref={maxRange}>\n        <Thumb\n          onMouseDown={(e) => changeMaxValue(e)}\n          onTouchStart={(e) => changeMaxValue(e)}\n        />\n      </Range>\n    </Wrap>\n  );\n};\n\nexport default Slider;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nconst Animate = ({\n  children,\n  doOpen,\n  animationDuration,\n}: {\n  children: JSX.Element;\n  doOpen: boolean;\n  animationDuration: number;\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const [className, setClassName] = useState(\"\");\n\n  const timeout1Ref = useRef(0);\n  const timeout2Ref = useRef(0);\n\n  const toggle = (action: string, delay: number) => {\n    switch (action) {\n      case \"open\":\n        setClassName(\"open\");\n        setIsOpen(true);\n        break;\n      case \"close\":\n        timeout1Ref.current = window.setTimeout(() => {\n          setClassName(\"closing\");\n          timeout1Ref.current = 0;\n        }, 100);\n        timeout2Ref.current = window.setTimeout(() => {\n          setIsOpen(false);\n          timeout2Ref.current = 0;\n        }, delay);\n        break;\n      default:\n        return;\n    }\n  };\n\n  useEffect(() => {\n    if (doOpen) {\n      toggle(\"open\", animationDuration);\n    } else {\n      setClassName(\"closing-setup\");\n      toggle(\"close\", animationDuration);\n    }\n\n    return () => {\n      if (timeout1Ref.current) clearTimeout(timeout1Ref.current);\n      if (timeout2Ref.current) clearTimeout(timeout2Ref.current);\n    };\n  }, [doOpen, animationDuration]);\n\n  const childrenArr = Array.isArray(children) ? children : [children];\n  return (\n    (isOpen && (\n      <>\n        {childrenArr.map((child, index) =>\n          React.cloneElement(child, {\n            className,\n            key: index,\n          })\n        )}\n      </>\n    )) ||\n    null\n  );\n};\n\nexport default Animate;\n","import React, { SyntheticEvent } from \"react\";\nimport styled from \"styled-components\";\nimport Animate from \"../utils/Animate\";\nimport {\n  animationOpenModalVert,\n  animationOpenModalHor,\n} from \"../utils/animations\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faChevronLeft } from \"@fortawesome/free-solid-svg-icons\";\n\ninterface StyledProps {\n  animation?: \"vertical\" | \"horizontal\";\n}\nconst StyledModal = styled.div`\n  position: fixed;\n  min-height: 100vh;\n  width: 100%;\n  z-index: 99;\n  top: 0;\n  left: 0;\n  background: lightgrey;\n  color: #424242;\n  animation: ${({ animation }: StyledProps) =>\n    animation\n      ? animation === \"vertical\"\n        ? animationOpenModalVert\n        : animationOpenModalHor\n      : \"none\"};\n\n  &.closing-setup {\n    animation: none;\n  }\n  &.closing {\n    animation: ${({ animation }: StyledProps) =>\n      animation\n        ? animation === \"vertical\"\n          ? animationOpenModalVert\n          : animationOpenModalHor\n        : \"none\"};\n    animation-direction: reverse;\n  }\n`;\n\nconst Header = styled.header`\n  width: 100%;\n  display: grid;\n  grid-template-columns: 0.3fr 1fr 0.3fr;\n  background: #fafafa;\n  place-items: center;\n  height: 8vh;\n`;\n\nconst Title = styled.h3`\n  font-weight: 400;\n  margin: 0;\n`;\n\nconst Body = styled.main`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 92vh;\n`;\n\ninterface Props {\n  children: JSX.Element | JSX.Element[];\n  buttons: { left?: JSX.Element; right?: JSX.Element };\n  doOpen: boolean;\n  title: string | JSX.Element;\n  animation?: \"vertical\" | \"horizontal\";\n}\n\nconst ModalMenu = ({ children, buttons, doOpen, title, animation }: Props) => (\n  <Animate {...{ doOpen, animationDuration: 300 }}>\n    <StyledModal animation={animation}>\n      <Header>\n        {buttons.left ? buttons.left : <div></div>}\n        <Title>{title}</Title>\n        {buttons.right ? buttons.right : <div></div>}\n      </Header>\n      <Body>{children}</Body>\n    </StyledModal>\n  </Animate>\n);\n\nconst Section = styled.section`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  background: #fafafa;\n  margin: 1rem 0;\n\n  .section-label + & {\n    margin-top: 0.25rem;\n  }\n`;\n\nconst SubSection = styled.div`\n  width: 100%;\n  padding: 0.5rem 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-top: 1px solid lightgrey;\n  border-bottom: 1px solid lightgrey;\n`;\n\nconst SectionLabel = styled.label`\n  padding-left: 0.5rem;\n`;\n\ninterface ButtonStyleProps {\n  color?: string;\n  background?: string;\n}\n\nconst TopButton = styled.button`\n  align-self: center;\n  width: 100%;\n  height: 100%;\n  border: 0;\n  background: transparent;\n  color: ${(props: ButtonStyleProps) => props.color || \"#424242\"};\n  background: ${(props: ButtonStyleProps) => props.background || \"transparent\"};\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  color: inherit;\n`;\n\ninterface ButtonProps {\n  onClick: (() => void) | ((e: SyntheticEvent) => void);\n}\n\nconst TopButtonBack = ({ onClick }: ButtonProps) => (\n  <TopButton onClick={onClick}>\n    <Icon size=\"lg\" icon={faChevronLeft} />\n  </TopButton>\n);\n\nconst TopButtonDone = ({ onClick }: ButtonProps) => (\n  <TopButton color=\"#3D84A8\" onClick={onClick}>\n    Done\n  </TopButton>\n);\n\nconst TopButtonLogout = ({ onClick }: ButtonProps) => (\n  <TopButton color=\"#960000\" onClick={onClick}>\n    Logout\n  </TopButton>\n);\n\nexport default ModalMenu;\n\nexport {\n  Section,\n  SubSection,\n  SectionLabel,\n  TopButton,\n  TopButtonBack,\n  TopButtonDone,\n  TopButtonLogout,\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { signOut, getAuth, Auth } from \"firebase/auth\";\nimport styled from \"styled-components\";\nimport UserContext from \"../context/UserContext\";\nimport Slider from \"./Slider\";\nimport { db } from \"../App\";\nimport { updateDoc, doc } from \"firebase/firestore\";\nimport ModalMenu, {\n  Section,\n  SubSection,\n  TopButtonDone,\n  TopButtonLogout,\n} from \"./ModalMenu\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\";\n\nconst Label = styled.label`\n  color: black;\n`;\n\nconst Value = styled.div``;\n\nconst Switch = styled.label`\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 34px;\n`;\n\nconst Checkbox = styled.input`\n  opacity: 0;\n  width: 0;\n  height: 0;\n`;\n\nconst SwitchSlider = styled.span`\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n  border-radius: 34px;\n\n  &::before {\n    position: absolute;\n    content: \"\";\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    -webkit-transition: 0.4s;\n    transition: 0.4s;\n    border-radius: 50%;\n  }\n\n  input:checked + & {\n    background-color: #46cdcf;\n\n    &::before {\n      -webkit-transform: translateX(26px);\n      -ms-transform: translateX(26px);\n      transform: translateX(26px);\n    }\n  }\n\n  input:focus + & {\n    box-shadow: 0 0 1px #46cdcf;\n  }\n`;\n\nconst GithubLink = styled.a`\n  width: 100%;\n  text-align: center;\n  color: #424242;\n  text-decoration: none;\n\n  &:hover {\n    color: black;\n  }\n`;\n\nconst Settings = ({\n  doOpen,\n  closeModal,\n}: {\n  doOpen: boolean;\n  closeModal: () => void;\n}) => {\n  const [minAge, setMinAge] = useState(25);\n  const [maxAge, setMaxAge] = useState(75);\n  const [distance, setDistance] = useState(100);\n  const [global, setGlobal] = useState(true);\n\n  const user = useContext(UserContext);\n\n  useEffect(() => {\n    if (!user) return;\n\n    setMinAge(user.settings.minAge);\n    setMaxAge(user.settings.maxAge);\n    setDistance(user.settings.distance);\n    setGlobal(user.settings.global);\n  }, [user]);\n\n  const handleClose = (cb: any, auth?: Auth) => {\n    if (!user) return;\n    const docRef = doc(db, \"users\", user.uid);\n    updateDoc(docRef, {\n      settings: {\n        minAge: minAge,\n        maxAge: maxAge,\n        distance: distance,\n        global: global,\n      },\n    });\n    cb(auth);\n  };\n\n  return (\n    <ModalMenu\n      title=\"Settings\"\n      doOpen={doOpen}\n      buttons={{\n        right: <TopButtonDone onClick={() => handleClose(closeModal)} />,\n      }}\n      animation=\"vertical\">\n      <>\n        <Section>\n          <SubSection>\n            <Label>Global</Label>\n\n            <Switch>\n              <Checkbox\n                onChange={() => setGlobal(!global)}\n                type=\"checkbox\"\n                checked={global}\n                key={global + \"\"}\n              />\n              <SwitchSlider />\n            </Switch>\n          </SubSection>\n          <SubSection>\n            <div style={{ width: \"100%\", textAlign: \"center\" }}>\n              <small>Global mode is recommended as this is a test app.</small>\n            </div>\n          </SubSection>\n        </Section>\n        <Section>\n          <SubSection>\n            <Label>Distance</Label>\n            <Value>{distance}km</Value>\n          </SubSection>\n          <SubSection>\n            <Slider\n              hi={[distance, setDistance]}\n              min={1}\n              max={200}\n              width=\"80%\"\n            />\n          </SubSection>\n        </Section>\n\n        <Section>\n          <SubSection>\n            <Label>Age</Label>\n            <Value>\n              {minAge} - {maxAge}\n            </Value>\n          </SubSection>\n          <SubSection>\n            <Slider\n              lo={[minAge, setMinAge]}\n              hi={[maxAge, setMaxAge]}\n              min={18}\n              max={100}\n              minDiff={5}\n              double\n              width=\"80%\"\n            />\n          </SubSection>\n        </Section>\n\n        <Section>\n          <SubSection>\n            <TopButtonLogout onClick={() => handleClose(signOut, getAuth())} />\n          </SubSection>\n        </Section>\n\n        <Section>\n          <SubSection>\n            <GithubLink href=\"https://github.com/leau-void/tinder-clone\">\n              Made with <span style={{ color: \"#e25555\" }}>&#9829;</span> by\n              Leau\n              <FontAwesomeIcon\n                style={{ marginLeft: \"0.5rem\" }}\n                size=\"lg\"\n                icon={faGithub}\n              />\n            </GithubLink>\n          </SubSection>\n        </Section>\n      </>\n    </ModalMenu>\n  );\n};\n\nexport default Settings;\n","import React, { useRef, SyntheticEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { Photo } from \"../types\";\n\n// photos are 150/200 on mobile (on profile) and can scale up to 350/467 for desktop\n\nconst StyledCard = styled.div`\n  width: 100px;\n  height: 134px;\n  position: relative;\n  border-radius: 8px;\n  background: grey;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst BackgroundAdd = styled.div`\n  width: 60px;\n  height: 60px;\n  background: darkgrey;\n  clip-path: polygon(\n    0% 45%,\n    0% 55%,\n    45% 55%,\n    45% 100%,\n    55% 100%,\n    55% 55%,\n    100% 55%,\n    100% 45%,\n    55% 45%,\n    55% 0%,\n    45% 0%,\n    45% 45%\n  );\n`;\n\nconst PhotoImg = styled.img`\n  width: 100%;\n  object-fit: contain;\n  border-radius: 8px;\n`;\n\nconst FileInput = styled.input.attrs((props) => ({\n  type: \"file\",\n  accept: \"image/*\",\n}))`\n  opacity: 0;\n  max-width: 1px;\n  max-height: 1px;\n`;\n\nconst CornerButton = styled.button`\n  min-width: 30px;\n  width: 30px;\n  min-height: 30px;\n  height: 30px;\n  background: blue;\n  display: block;\n  font-size: 1.3rem;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-weight: bold;\n  position: absolute;\n  bottom: -15px;\n  right: -15px;\n  z-index: 1;\n  border: 0;\n\n  &::before {\n    content: \"\";\n    display: block;\n    width: 4px;\n    height: 15px;\n    background: #f5f5f5;\n    position: absolute;\n    border-radius: 4px;\n    transform-origin: center center;\n  }\n\n  &::after {\n    content: \"\";\n    display: block;\n    width: 4px;\n    height: 15px;\n    background: #f5f5f5;\n    transform-origin: center center;\n    transform: rotate(90deg);\n    position: absolute;\n    border-radius: 4px;\n  }\n`;\n\nconst RemovePhotoButton = styled(CornerButton)`\n  &::before {\n    transform: rotate(45deg);\n  }\n\n  &::after {\n    transform: rotate(135deg);\n  }\n`;\n\nconst PhotoCard = ({\n  cur,\n  i,\n  handlerAdd,\n  handlerRemove,\n  handleMove,\n}: {\n  cur: Photo | null;\n  i: number;\n  handlerAdd: (e: SyntheticEvent) => void;\n  handlerRemove: (i: number) => void;\n  handleMove: (e: SyntheticEvent) => void;\n}) => {\n  const input = useRef<HTMLInputElement>(null);\n\n  const clickAddButton = (e: SyntheticEvent) => {\n    e.stopPropagation();\n\n    if (!input.current) return;\n\n    input.current.click();\n  };\n\n  return (\n    <StyledCard onClick={cur ? undefined : clickAddButton}>\n      {cur ? (\n        <>\n          <PhotoImg\n            onTouchStart={handleMove}\n            onMouseDown={handleMove}\n            src={cur.src}></PhotoImg>\n          <RemovePhotoButton onClick={() => handlerRemove(i)} />\n        </>\n      ) : (\n        <>\n          <BackgroundAdd />\n          <FileInput ref={input} onChange={handlerAdd} id={\"input-\" + i} />\n          <CornerButton onClick={clickAddButton} />\n        </>\n      )}\n    </StyledCard>\n  );\n};\n\nexport default PhotoCard;\n","const fileTypes = [\n  \"image/apng\",\n  \"image/bmp\",\n  \"image/gif\",\n  \"image/jpeg\",\n  \"image/pjpeg\",\n  \"image/png\",\n  \"image/svg+xml\",\n  \"image/tiff\",\n  \"image/webp\",\n  \"image/x-icon\",\n];\n\nfunction validFileType(file: File) {\n  return fileTypes.includes(file.type);\n}\n\nexport default validFileType;\n","// Based on: https://stackoverflow.com/a/46814952/283851\n\n/**\n * Create a Base64 Image URL, with rotation applied to compensate for EXIF orientation, if needed.\n *\n * Optionally resize to a smaller maximum width - to improve performance for larger image thumbnails.\n */\nexport async function getImageUrl(file: File, maxWidth: number | undefined) {\n  return readOrientation(file).then((orientation) =>\n    applyRotation(file, orientation || 1, maxWidth || 999999)\n  );\n}\n\n/**\n * @returns EXIF orientation value (or undefined)\n */\nconst readOrientation = (file: File) =>\n  new Promise<number | undefined>((resolve) => {\n    const reader = new FileReader();\n\n    reader.onload = () =>\n      resolve(\n        (() => {\n          const view = new DataView(reader.result as ArrayBuffer);\n\n          if (view.getUint16(0, false) != 0xffd8) {\n            return;\n          }\n\n          const length = view.byteLength;\n\n          let offset = 2;\n\n          while (offset < length) {\n            const marker = view.getUint16(offset, false);\n\n            offset += 2;\n\n            if (marker == 0xffe1) {\n              offset += 2;\n\n              if (view.getUint32(offset, false) != 0x45786966) {\n                return;\n              }\n\n              offset += 6;\n\n              const little = view.getUint16(offset, false) == 0x4949;\n\n              offset += view.getUint32(offset + 4, little);\n\n              const tags = view.getUint16(offset, little);\n\n              offset += 2;\n\n              for (var i = 0; i < tags; i++) {\n                if (view.getUint16(offset + i * 12, little) == 0x0112) {\n                  return view.getUint16(offset + i * 12 + 8, little);\n                }\n              }\n            } else if ((marker & 0xff00) != 0xff00) {\n              break;\n            } else {\n              offset += view.getUint16(offset, false);\n            }\n          }\n        })()\n      );\n\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\n  });\n\n/**\n * @returns Base64 Image URL (with rotation applied to compensate for orientation, if any)\n */\nconst applyRotation = (file: File, orientation: number, maxWidth: number) =>\n  new Promise<string>((resolve) => {\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      const url = reader.result as string;\n\n      const image = new Image();\n\n      image.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\")!;\n\n        let { width, height } = image;\n\n        const [outputWidth, outputHeight] =\n          orientation >= 5 && orientation <= 8\n            ? [height, width]\n            : [width, height];\n\n        const scale = outputWidth > maxWidth ? maxWidth / outputWidth : 1;\n\n        width = width * scale;\n        height = height * scale;\n\n        // set proper canvas dimensions before transform & export\n        canvas.width = outputWidth * scale;\n        canvas.height = outputHeight * scale;\n\n        // transform context before drawing image\n        switch (orientation) {\n          case 2:\n            context.transform(-1, 0, 0, 1, width, 0);\n            break;\n          case 3:\n            context.transform(-1, 0, 0, -1, width, height);\n            break;\n          case 4:\n            context.transform(1, 0, 0, -1, 0, height);\n            break;\n          case 5:\n            context.transform(0, 1, 1, 0, 0, 0);\n            break;\n          case 6:\n            context.transform(0, 1, -1, 0, height, 0);\n            break;\n          case 7:\n            context.transform(0, -1, -1, 0, height, width);\n            break;\n          case 8:\n            context.transform(0, -1, 1, 0, 0, width);\n            break;\n          default:\n            break;\n        }\n\n        // draw image\n        context.drawImage(image, 0, 0, width, height);\n\n        // export base64\n        resolve(canvas.toDataURL(\"image/jpeg\"));\n      };\n\n      image.src = url;\n    };\n\n    reader.readAsDataURL(file);\n  });\n","import React, {\n  useState,\n  SyntheticEvent,\n  useRef,\n  useEffect,\n  useCallback,\n  useReducer,\n} from \"react\";\nimport styled from \"styled-components\";\nimport ModalMenu, { Section, TopButtonBack, TopButtonDone } from \"./ModalMenu\";\nimport { getImageUrl } from \"../utils/getImageURL\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSearchPlus, faSearchMinus } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Canvas = styled.canvas`\n  border: 3px solid #424242;\n  cursor: move;\n  background: #f5f5f5;\n  border-radius: 20px;\n  margin: 1rem;\n  max-width: 80%;\n  max-height: 80%;\n`;\n\nconst Img = styled.img`\n  opacity: 0;\n  position: absolute;\n  z-index: -1;\n  left: 100vw;\n`;\n\nconst ZoomButton = styled.button`\n  padding: 0.5rem;\n  border: 0;\n  background: 0;\n  margin-top: 1rem;\n`;\n\nconst initialZoom = { zoom: 1 };\n\nconst zoomReducer = (\n  state: typeof initialZoom,\n  action: { type: \"in\" } | { type: \"out\" } | { type: \"init\" }\n) => {\n  switch (action.type) {\n    case \"in\":\n      return { zoom: state.zoom * 1.1 };\n    case \"out\":\n      if (state.zoom * 0.9 <= 1) return { zoom: 1 };\n      return { zoom: state.zoom * 0.9 };\n    case \"init\":\n      return { zoom: 1 };\n    default:\n      throw new Error();\n  }\n};\n\nconst CroppingTool = ({\n  editPhoto,\n  setEditPhoto,\n  handleSavePhoto,\n}: {\n  editPhoto: null | File;\n  setEditPhoto: (val: null | File) => void;\n  handleSavePhoto: (\n    e: SyntheticEvent,\n    { src, file }: { src: string; file: Blob }\n  ) => void;\n}) => {\n  const [image, setImage] = useState<HTMLImageElement | null>(null);\n  const [canvas, setCanvas] = useState<HTMLCanvasElement | null>(null);\n  const [ctx, setCtx] = useState<CanvasRenderingContext2D | null>(null);\n  const [{ zoom }, dispatchZoom] = useReducer(zoomReducer, initialZoom);\n  const imgWidth = useRef<number>(0);\n  const imgHeight = useRef<number>(0);\n  const imgLoadStatus = useRef<boolean>(false);\n\n  const [offsetX, setOffsetX] = useState<number>(0);\n  const [offsetY, setOffsetY] = useState<number>(0);\n\n  const lastX = useRef<number | null>(null);\n  const lastY = useRef<number | null>(null);\n\n  const lastTouchDist = useRef<number | null>(null);\n\n  const reset = () => {\n    dispatchZoom({ type: \"init\" });\n    setOffsetX(0);\n    setOffsetY(0);\n    imgWidth.current = 0;\n    imgLoadStatus.current = false;\n    imgHeight.current = 0;\n    lastX.current = null;\n    lastY.current = null;\n    lastTouchDist.current = null;\n    if (image) image.src = \"\";\n  };\n\n  useEffect(() => {\n    if (!editPhoto || !image || !canvas || !ctx || !imgLoadStatus.current)\n      return;\n    ctx.clearRect(\n      0,\n      0,\n      Number(canvas.getAttribute(\"width\")),\n      Number(canvas.getAttribute(\"height\"))\n    );\n\n    const actualOffsetX =\n      offsetX >= 0\n        ? 0\n        : offsetX <=\n          Number(canvas.getAttribute(\"width\")) - imgWidth.current * zoom\n        ? Number(canvas.getAttribute(\"width\")) - imgWidth.current * zoom\n        : offsetX;\n\n    const actualOffsetY =\n      offsetY >= 0\n        ? 0\n        : offsetY <=\n          Number(canvas.getAttribute(\"height\")) - imgHeight.current * zoom\n        ? Number(canvas.getAttribute(\"height\")) - imgHeight.current * zoom\n        : offsetY;\n\n    ctx.drawImage(\n      image,\n      actualOffsetX,\n      actualOffsetY,\n      imgWidth.current * zoom,\n      imgHeight.current * zoom\n    );\n  }, [\n    canvas,\n    ctx,\n    editPhoto,\n    image,\n    imgWidth,\n    imgHeight,\n    zoom,\n    offsetX,\n    offsetY,\n    imgLoadStatus,\n  ]);\n\n  const setupCanvas = useCallback((node) => {\n    if (!node) return;\n    setCanvas(node);\n    const ctx = node.getContext(\"2d\");\n    setCtx(ctx);\n  }, []);\n\n  const setupImage = useCallback((node) => {\n    if (!node) return;\n    setImage(node);\n  }, []);\n\n  useEffect(() => {\n    if (!editPhoto || !image || !canvas || !ctx) return;\n    const imageLoaded = () => {\n      imgLoadStatus.current = true;\n      imgHeight.current = Number(canvas.getAttribute(\"height\"));\n      imgWidth.current =\n        (image.offsetWidth / image.offsetHeight) * imgHeight.current;\n\n      ctx.drawImage(image, 0, 0, imgWidth.current, imgHeight.current);\n    };\n\n    image.addEventListener(\"load\", imageLoaded);\n\n    getImageUrl(editPhoto, undefined).then((url) => {\n      image.src = url;\n    });\n\n    return () => image.removeEventListener(\"load\", imageLoaded);\n  }, [editPhoto, image, canvas, ctx]);\n\n  const moveStart = (e: SyntheticEvent) => {\n    e.preventDefault();\n\n    document.addEventListener(\"mousemove\", moveHandler, { passive: false });\n    document.addEventListener(\"mouseup\", moveEnd);\n\n    document.addEventListener(\"touchmove\", moveHandler, { passive: false });\n    document.addEventListener(\"touchend\", moveEnd);\n  };\n\n  const moveHandler = (e: MouseEvent | TouchEvent) => {\n    if (!editPhoto || !image || !canvas || !ctx) return;\n\n    if (e instanceof TouchEvent) {\n      e.preventDefault();\n    }\n    if (e instanceof TouchEvent && e.targetTouches.length >= 2) {\n      const newTouchDist = Math.hypot(\n        e.targetTouches[0].pageX - e.targetTouches[1].pageX,\n        e.targetTouches[0].pageY - e.targetTouches[1].pageY\n      );\n\n      if (lastTouchDist.current == null) lastTouchDist.current = newTouchDist;\n\n      if (newTouchDist > lastTouchDist.current) {\n        dispatchZoom({ type: \"in\" });\n      } else if (newTouchDist < lastTouchDist.current) {\n        dispatchZoom({ type: \"out\" });\n      }\n\n      lastTouchDist.current = newTouchDist;\n      return;\n    }\n\n    if (imgWidth.current * zoom > Number(canvas.getAttribute(\"width\"))) {\n      let clientX = 0;\n      if (e instanceof MouseEvent) {\n        clientX = e.clientX;\n      } else if (e instanceof TouchEvent) {\n        clientX = e.targetTouches[0].clientX;\n      }\n\n      const newX = clientX - canvas.offsetLeft;\n\n      setOffsetX((prev) => {\n        if (lastX.current == null) lastX.current = newX;\n\n        const newDiff =\n          (newX - lastX.current) *\n          (imgWidth.current * zoom - Number(canvas.getAttribute(\"width\")));\n\n        const newPos = newDiff / Number(canvas.getAttribute(\"width\")) + prev;\n\n        return newPos;\n      });\n\n      lastX.current = newX;\n    }\n\n    if (imgHeight.current * zoom > Number(canvas.getAttribute(\"height\"))) {\n      let clientY = 0;\n      if (e instanceof MouseEvent) {\n        clientY = e.clientY;\n      } else if (e instanceof TouchEvent) {\n        clientY = e.targetTouches[0].clientY;\n      }\n\n      const newY = clientY - canvas.offsetTop;\n\n      setOffsetY((prev) => {\n        if (lastY.current == null) lastY.current = newY;\n\n        const newDiff =\n          (newY - lastY.current) *\n          (imgHeight.current * zoom - Number(canvas.getAttribute(\"height\")));\n\n        const newPos = newDiff / Number(canvas.getAttribute(\"width\")) + prev;\n\n        return newPos;\n      });\n\n      lastY.current = newY;\n    }\n  };\n\n  const moveEnd = (e: MouseEvent | TouchEvent) => {\n    lastX.current = null;\n    lastY.current = null;\n\n    document.removeEventListener(\"mousemove\", moveHandler);\n    document.removeEventListener(\"mouseup\", moveEnd);\n\n    document.removeEventListener(\"touchmove\", moveHandler);\n    document.removeEventListener(\"touchend\", moveEnd);\n  };\n\n  return (\n    <ModalMenu\n      title=\"Photo Editor\"\n      doOpen={editPhoto ? true : false}\n      buttons={{\n        left: (\n          <TopButtonBack\n            onClick={() => {\n              reset();\n              setEditPhoto(null);\n            }}\n          />\n        ),\n        right: (\n          <TopButtonDone\n            onClick={(e) => {\n              canvas!.toBlob((blob) => {\n                if (!blob) return new Error();\n                handleSavePhoto(e, { src: canvas!.toDataURL(), file: blob });\n                reset();\n              });\n            }}\n          />\n        ),\n      }}\n      animation=\"horizontal\">\n      <Img ref={setupImage} src=\"\" alt=\"placeholder\"></Img>\n      <Section>\n        <div\n          style={{\n            width: \"100%\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              margin: \"1rem 0\",\n            }}>\n            <Canvas\n              onMouseDown={moveStart}\n              onTouchStart={moveStart}\n              ref={setupCanvas}\n              width={350}\n              height={467}></Canvas>\n            <small>Chose how your image will apear.</small>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              height: \"100%\",\n            }}>\n            <ZoomButton onClick={() => dispatchZoom({ type: \"in\" })}>\n              <FontAwesomeIcon icon={faSearchPlus} />\n            </ZoomButton>\n            <ZoomButton onClick={() => dispatchZoom({ type: \"out\" })}>\n              <FontAwesomeIcon icon={faSearchMinus} />\n            </ZoomButton>\n          </div>\n        </div>\n      </Section>\n    </ModalMenu>\n  );\n};\n\nexport default CroppingTool;\n","import React, {\n  SyntheticEvent,\n  useContext,\n  useState,\n  useEffect,\n  useRef,\n} from \"react\";\nimport styled from \"styled-components\";\nimport UserContext from \"../context/UserContext\";\nimport ModalMenu, {\n  Section,\n  SectionLabel,\n  TopButtonBack,\n  TopButtonDone,\n} from \"./ModalMenu\";\nimport PhotoCard from \"./PhotoCard\";\nimport validFileType from \"../utils/validFileType\";\nimport { doc, updateDoc } from \"firebase/firestore\";\nimport { db, store } from \"../App\";\nimport CroppingTool from \"./CroppingTool\";\nimport {\n  ref,\n  uploadBytes,\n  getDownloadURL,\n  deleteObject,\n} from \"firebase/storage\";\nimport uniqid from \"uniqid\";\nimport ProfileCard from \"./ProfileCard\";\n\nconst Scrollable = styled.div`\n  overflow-y: scroll;\n  width: 100%;\n`;\n\nconst Tabs = styled.nav`\n  min-height: 6vh;\n  height: 6vh;\n  width: 100%;\n  display: flex;\n\n  & > :first-child {\n    border-right: 2px solid black;\n  }\n`;\n\nconst Tab = styled.button`\n  width: 100%;\n  height: 100%;\n  background: 0;\n  border: 0;\n  border-bottom: 2px solid;\n  color: grey;\n\n  &.active {\n    color: black;\n  }\n`;\n\nconst PhotoContainer = styled.div`\n  display: grid;\n  grid: repeat(3, 134px) / repeat(3, 100px);\n  grid-gap: 20px;\n  padding: 1rem;\n\n  @media (max-width: 400px) {\n    transform-origin: center center;\n    transform: scale(0.8);\n  }\n`;\n\nconst Input = styled.input`\n  width: 100%;\n  border: 0;\n  border-left: 3px solid transparent;\n  padding: 0.75rem;\n  padding-right: 4rem;\n\n  &:focus {\n    border-color: #424242;\n  }\n`;\n\nconst TextArea = styled.textarea`\n  width: 100%;\n  border: 0;\n  border-left: 3px solid transparent;\n  padding: 0.75rem;\n  resize: none;\n\n  &:focus {\n    border-color: #424242;\n  }\n`;\n\nconst Form = styled.form`\n  width: 100%;\n  display: flex;\n  margin: 0.5rem 0;\n  border-bottom: 1px solid lightgrey;\n  border-top: 1px solid lightgrey;\n  position: relative;\n`;\n\nconst Submit = styled.button`\n  color: red;\n  border: 0;\n  background: 0;\n  color: #3d84a8;\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translate(-25%, -50%);\n  border-radius: 20px;\n  padding: 0.5rem;\n\n  &:disabled {\n    color: lightgrey;\n  }\n`;\n\nconst PassionsPreview = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  padding: 1rem;\n`;\n\nconst Passion = styled.div`\n  padding: 0.25rem 0.5rem;\n  border: 1px solid;\n  border-color: inherit;\n  margin: 0.2rem;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.5rem;\n`;\n\nconst PassionName = styled.div``;\n\nconst DeletePassion = styled.button`\n  color: inherit;\n  margin-left: 0.25rem;\n  border: 0;\n  background: 0;\n`;\n\ninterface EditPhoto {\n  src: string;\n  path?: string;\n  file?: File | Blob;\n}\n\nconst EditProfile = ({\n  doOpen,\n  closeModal,\n}: {\n  doOpen: boolean;\n  closeModal: () => void;\n}) => {\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(25);\n  const [description, setDescription] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [job, setJob] = useState(\"\");\n  const [gender, setGender] = useState(\"\");\n  const [orientation, setOrientation] = useState(\"\");\n  const [passionInput, setPassionInput] = useState(\"\");\n  const [passions, setPassions] = useState<string[]>([]);\n  const [editPhoto, setEditPhoto] = useState<null | File>(null);\n\n  const isClickDown = useRef<boolean>(false);\n  const clickDownTimer = useRef<number | null>(null);\n\n  const [photos, setPhotos] = useState<Array<null | EditPhoto>>([]);\n\n  const [currentTab, setCurrentTab] = useState<\"edit\" | \"preview\">(\"edit\");\n\n  const user = useContext(UserContext);\n\n  useEffect(() => {\n    if (!user) return;\n\n    setName(user.profile.name);\n    setAge(user.profile.age);\n    setDescription(user.profile.description);\n    setCity(user.profile.city);\n    setJob(user.profile.job);\n    setGender(user.profile.gender);\n    setOrientation(user.profile.orientation);\n    setPassions(user.profile.passions);\n\n    setPhotos(() =>\n      new Array(9)\n        .fill(null)\n        .map((cur, i) =>\n          user.profile.photos[i] ? user.profile.photos[i] : null\n        )\n    );\n  }, [user]);\n\n  const handleUpload = (e: SyntheticEvent) => {\n    const target = e.target as HTMLInputElement;\n    const files = target.files;\n    if (!files || !files[0]) return;\n    const file = files[0];\n    if (!validFileType(file)) return;\n    setEditPhoto(file);\n    target.value = \"\";\n  };\n\n  const handleSavePhoto = (\n    e: SyntheticEvent,\n    { src, file }: { src: string; file: Blob }\n  ) => {\n    setEditPhoto(null);\n\n    const newIndex = photos.findIndex((cur) => !cur);\n    setPhotos([\n      ...photos.slice(0, newIndex),\n      {\n        src,\n        file,\n      },\n      ...photos.slice(newIndex + 1),\n    ]);\n  };\n\n  const handleSubmit = (e: SyntheticEvent) => {\n    e.preventDefault();\n\n    setPassions([...passions, passionInput]);\n    setPassionInput(\"\");\n  };\n\n  const handleSave = async () => {\n    if (!user) return;\n    closeModal();\n\n    const docRef = doc(db, \"users\", user.uid);\n    const userPath = `users/${user.uid}`;\n    const userRef = ref(store, userPath);\n\n    const newPhotos = await Promise.all(\n      photos\n        .filter((photo) => photo != null)\n        .map(async (photo) => {\n          if (!photo!.file) return photo;\n          const photoRef = ref(\n            userRef,\n            uniqid() + \".\" + photo!.file.type.split(\"/\")[1]\n          );\n          const snap = await uploadBytes(photoRef, photo!.file);\n          const src = await getDownloadURL(photoRef);\n\n          return {\n            path: snap.metadata.fullPath,\n            src,\n          };\n        })\n    );\n\n    user.profile.photos\n      .filter((photo) => !!photo.path && !newPhotos.includes(photo))\n      .forEach((photo) => deleteObject(ref(store, photo.path!)));\n\n    updateDoc(docRef, {\n      profile: {\n        name: name,\n        age: Number(age) > 18 && Number(age) < 100 ? Number(age) : 25,\n        description: description,\n        city: city,\n        job: job,\n        gender: gender,\n        orientation: orientation,\n        passions: passions,\n        photos: newPhotos,\n      },\n    });\n  };\n\n  useEffect(() => {\n    const handleClickEnd = () => {\n      isClickDown.current = false;\n      if (clickDownTimer.current) clearTimeout(clickDownTimer.current);\n      clickDownTimer.current = null;\n    };\n\n    window.addEventListener(\"mouseup\", handleClickEnd);\n    window.addEventListener(\"touchend\", handleClickEnd);\n\n    return () => {\n      window.removeEventListener(\"mouseup\", handleClickEnd);\n      window.removeEventListener(\"touchend\", handleClickEnd);\n    };\n  }, []);\n\n  const handleMove = (e: SyntheticEvent) => {\n    isClickDown.current = true;\n    clickDownTimer.current = window.setTimeout(() => {\n      if (isClickDown.current) {\n      }\n      // TODO : Add handler for reorganizing photos\n    }, 1500);\n  };\n\n  return (\n    <ModalMenu\n      title=\"Edit info\"\n      doOpen={doOpen}\n      buttons={{\n        left: <TopButtonBack onClick={() => closeModal()} />,\n        right: <TopButtonDone onClick={() => handleSave()} />,\n      }}\n      animation=\"vertical\">\n      <Tabs>\n        <Tab\n          onClick={() => setCurrentTab(\"edit\")}\n          className={currentTab === \"edit\" ? \"active\" : \"\"}>\n          Edit\n        </Tab>\n        <Tab\n          onClick={() => setCurrentTab(\"preview\")}\n          className={currentTab === \"preview\" ? \"active\" : \"\"}>\n          Preview\n        </Tab>\n      </Tabs>\n      <CroppingTool {...{ editPhoto, setEditPhoto, handleSavePhoto }} />\n      {currentTab === \"edit\" ? (\n        <Scrollable>\n          <Section>\n            <PhotoContainer>\n              {photos.map((cur, i) => (\n                <PhotoCard\n                  key={i}\n                  cur={cur}\n                  i={i}\n                  handlerAdd={handleUpload}\n                  handlerRemove={(i: number) =>\n                    setPhotos([\n                      ...photos.slice(0, i),\n                      ...photos.slice(i + 1),\n                      null,\n                    ])\n                  }\n                  handleMove={handleMove}\n                />\n              ))}\n            </PhotoContainer>\n          </Section>\n\n          <SectionLabel className=\"section-label\">NAME</SectionLabel>\n          <Section>\n            <Input onChange={(e) => setName(e.target.value)} value={name} />\n          </Section>\n\n          <SectionLabel className=\"section-label\">AGE</SectionLabel>\n          <Section>\n            <Input\n              onChange={(e) => setAge(Number(e.target.value))}\n              value={age}\n              type=\"number\"\n            />\n          </Section>\n\n          <SectionLabel className=\"section-label\">ABOUT ME</SectionLabel>\n          <Section>\n            <TextArea\n              onChange={(e) => setDescription(e.target.value)}\n              value={description}\n              rows={4}\n            />\n          </Section>\n\n          <SectionLabel className=\"section-label\">LIVING IN</SectionLabel>\n          <Section>\n            <Input onChange={(e) => setCity(e.target.value)} value={city} />\n          </Section>\n\n          <SectionLabel className=\"section-label\">JOB TITLE</SectionLabel>\n          <Section>\n            <Input onChange={(e) => setJob(e.target.value)} value={job} />\n          </Section>\n\n          <SectionLabel className=\"section-label\">GENDER</SectionLabel>\n          <Section>\n            <Input onChange={(e) => setGender(e.target.value)} value={gender} />\n          </Section>\n\n          <SectionLabel className=\"section-label\">\n            SEXUAL ORIENTATION\n          </SectionLabel>\n          <Section>\n            <Input\n              onChange={(e) => setOrientation(e.target.value)}\n              value={orientation}\n            />\n          </Section>\n\n          <SectionLabel className=\"section-label\">PASSIONS</SectionLabel>\n          <Section>\n            <small style={{ paddingTop: \"0.5rem\" }}>\n              Share up to 5 passions\n            </small>\n            <Form onSubmit={handleSubmit}>\n              <Input\n                onChange={(e) => setPassionInput(e.target.value)}\n                value={passionInput}\n                required\n              />\n              <Submit type=\"submit\" disabled={passions.length >= 5}>\n                Add\n              </Submit>\n            </Form>\n            <PassionsPreview>\n              {passions.map((passion, i) => (\n                <Passion key={i}>\n                  <PassionName>{passion}</PassionName>\n                  <DeletePassion\n                    onClick={() => {\n                      setPassions([\n                        ...passions.slice(0, i),\n                        ...passions.slice(i + 1),\n                      ]);\n                    }}>\n                    x\n                  </DeletePassion>\n                </Passion>\n              ))}\n            </PassionsPreview>\n          </Section>\n        </Scrollable>\n      ) : user ? (\n        <div\n          style={{\n            position: \"relative\",\n            width: \"100%\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginTop: \"2rem\",\n          }}>\n          <ProfileCard\n            user={{\n              ...user,\n              profile: {\n                name,\n                age,\n                description,\n                city,\n                job,\n                gender,\n                orientation,\n                passions,\n                photos: photos\n                  .filter((ph) => !!ph)\n                  .map((pho) => ({ src: pho!.src })),\n              },\n            }}\n          />\n        </div>\n      ) : (\n        <div>No profile to display.</div>\n      )}\n    </ModalMenu>\n  );\n};\n\nexport default EditProfile;\n","import React, { useContext, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCog, faPen } from \"@fortawesome/free-solid-svg-icons\";\nimport styled from \"styled-components\";\nimport Settings from \"./Settings\";\nimport EditProfile from \"./EditProfile\";\nimport UserContext from \"../context/UserContext\";\nimport userPlaceholder from \"../assets/placeholders/userPlaceholder.png\";\nimport ModalMenu, { Section } from \"./ModalMenu\";\nimport { TopButtonBack } from \"./ModalMenu\";\nimport ProfileCard from \"./ProfileCard\";\n\nconst StyledProfile = styled.main`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Icon = styled(FontAwesomeIcon)`\n  color: inherit;\n`;\n\nconst ButtonWrap = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n`;\n\nconst LabelButton = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: grey;\n`;\n\nconst Button = styled.button`\n  background: 0;\n  border: 0;\n  padding: 8px;\n  box-shadow: 0 0 8px 2px;\n  border-radius: 50%;\n  margin-bottom: 8px;\n  color: grey;\n\n  &:hover {\n    color: #46cdcf;\n  }\n`;\n\nconst UserPhoto = styled.img`\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  object-fit: cover;\n  margin: 50px 0;\n  cursor: pointer;\n`;\n\nconst Profile = () => {\n  const [whichModalOpen, setWhichModalOpen] = useState<\n    null | \"settings\" | \"edit\"\n  >(null);\n\n  const user = useContext(UserContext);\n\n  const closeModal = () => setWhichModalOpen(null);\n\n  const [openProfile, setOpenProfile] = useState(false);\n  const [doOpenProfile, setDoOpenProfile] = useState(false);\n\n  return (\n    <StyledProfile>\n      <UserPhoto\n        onClick={() => {\n          setDoOpenProfile(true);\n          setOpenProfile(true);\n        }}\n        src={\n          user\n            ? user.profile.photos[0]\n              ? user.profile.photos[0].src\n              : userPlaceholder\n            : userPlaceholder\n        }></UserPhoto>\n      <ButtonWrap>\n        <LabelButton>\n          <Button onClick={() => setWhichModalOpen(\"settings\")}>\n            <Icon size=\"lg\" icon={faCog} />\n          </Button>\n          SETTINGS\n        </LabelButton>\n        <LabelButton>\n          <Button onClick={() => setWhichModalOpen(\"edit\")}>\n            <Icon size=\"lg\" icon={faPen} />\n          </Button>\n          EDIT INFO\n        </LabelButton>\n      </ButtonWrap>\n      <Settings\n        doOpen={whichModalOpen === \"settings\"}\n        closeModal={closeModal}\n      />\n      <EditProfile doOpen={whichModalOpen === \"edit\"} closeModal={closeModal} />\n      {openProfile && user && (\n        <ModalMenu\n          doOpen={doOpenProfile}\n          title={user.profile.name}\n          animation=\"horizontal\"\n          buttons={{\n            left: (\n              <TopButtonBack\n                onClick={() => {\n                  setDoOpenProfile(false);\n                  window.setTimeout(() => setOpenProfile(false), 300);\n                }}\n              />\n            ),\n          }}>\n          <Section>\n            <ProfileCard user={user} compareLocation={user?.location} />\n          </Section>\n        </ModalMenu>\n      )}\n    </StyledProfile>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { Conversation } from \"../types\";\n\nconst ConversationsContext = React.createContext<Conversation[]>([]);\n\nexport const ConversationsProvider = ConversationsContext.Provider;\n\nexport default ConversationsContext;\n","import styled from \"styled-components\";\n\ninterface IconProps {\n  src: string;\n  width?: string;\n  height?: string;\n}\n\nconst UserIcon = styled.div`\n  border-radius: 50%;\n  position: relative;\n  background: center / cover no-repeat url(${(props: IconProps) => props.src});\n  width: ${(props: IconProps) => props.width || \"100px\"};\n  height: ${(props: IconProps) => props.height || \"100px\"};\n  flex-shrink: 0;\n\n  &.not-seen {\n    &::after {\n      content: \"\";\n      display: block;\n      border: 3px solid white;\n      width: 20%;\n      height: 20%;\n      background: royalblue;\n      position: absolute;\n      border-radius: 50%;\n      bottom: 3%;\n      right: 3%;\n    }\n  }\n`;\n\nexport default UserIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAEsCAMAAADaaRXwAAAAkFBMVEXY2Nimpqa+vr7ExMS8vLzJycm6urq5ubnX19etra3T09Ourq7W1tbU1NTS0tKsrKyvr6/R0dHQ0NCxsbGwsLCrq6vNzc20tLTV1dXFxcWysrLOzs7Dw8O9vb2qqqrGxsa7u7vAwMCpqanKysq2trbIyMizs7O1tbXPz8+/v7/BwcHMzMyoqKi3t7e4uLjCwsLnzYKKAAADBElEQVR4XuzAMQEAAADCIPunNsYeWAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAODs3etu2kAQR/EOScj6BgXMxZhrEtJc2/d/u1baD5PESnaRPNpKOecR+AkkxoK/a0/NhUHNqXUAnF15nItZ82MJwHlNMzEtmwJwTpMbMe5mAkB8rhDzCgdAdBuxTzYARFeIffITgNhy8c22A4O2M/HlAES28B61s/F2tQdZABDZrQc5WIEfPMgtAJFdeZBLK5BLD3IFwDcBAQQQQACp9o+Hwebh/wABpF2KL9u75CCAuIFo91ViEEDcb3lblqcFAeRR3jcrU4IA0srHjilBAFl2QF6qdCCAVNKtSQcCyF66vaYDAeRRutUBgIflygoEkKF0Gwc8dlKvjEAAuZRuxZce052IzFY2IIA8Sbd1yMOLWIAA8izdtl95zEVUpHcQQNxOOi2CHl7EAoTTydM5n1iTuWjr0gAEkDKLfIOoh4oYgHBcnL7Iuy7CHipiAMLzkMVONPnzucdYPnZfGoDwxHCkB8bs9lOPkXp0RHoBAUR7Ho5F5OaucbEeKtInCCCaq/SlDXtoy9IABJBQo0wkLGIPAoh6xIrYgwCSZ/JVv5wxCCDxHipiDwKIesSK2IMAkhcS7s7ZgAAyWY/O8lARCxBAJmMZvxOp1CMk0isIIHoeyd6IVD8ltlfXHwgg6qEi6hHXoF8QQPQ8kuXqEd91XyCA6HlERbxHAhBA1EMr/olUtSQCAUTPIyqyqiURCCDqoRW1JAABJPD1LwUIIOqRHgQQ9UgPAoieR9KDANI9j6QHAUQ90oMAoh7pQQAJeaQH4Sdt6UEAuQYEEAIkECAECCAEiGmApA8QQPbD3tp/TxD+SBkQQAABBBAGXYjJI0bBiNm882NYkpheZZyYmO/uLwbuybWn5sKg5tS6v+3AMQEAAADCIPunNsYeWAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOBrNTMp6EjJUwAAAABJRU5ErkJggg==\"","const formatDate = (timestamp: number): string => {\n  const date = new Date(timestamp);\n\n  const dateISO = date.toISOString();\n\n  if (new Date().toDateString() === date.toDateString()) {\n    return dateISO.split(\"T\")[1].slice(0, 5);\n  } else {\n    return dateISO.split(\"T\")[0];\n  }\n};\n\nexport default formatDate;\n","import React, {\n  SyntheticEvent,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled from \"styled-components\";\nimport { Conversation, Message, User } from \"../types\";\nimport UserIcon from \"./UserIcon\";\nimport {\n  onSnapshot,\n  collection,\n  doc,\n  updateDoc,\n  setDoc,\n  Timestamp,\n} from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport uniqid from \"uniqid\";\nimport UsersContext from \"../context/UsersContext\";\nimport UserContext from \"../context/UserContext\";\nimport { db, store } from \"../App\";\nimport ModalMenu, { Section } from \"./ModalMenu\";\nimport { TopButtonBack } from \"./ModalMenu\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faImage, faBackspace } from \"@fortawesome/free-solid-svg-icons\";\nimport { getImageUrl } from \"../utils/getImageURL\";\nimport imgPlaceholder from \"../assets/placeholders/imgPlaceholder.png\";\nimport userPlaceholder from \"../assets/placeholders/userPlaceholder.png\";\nimport formatDate from \"../utils/formatDate\";\nimport ProfileCard from \"./ProfileCard\";\n\nconst StyledIconWrap = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n`;\n\nconst StyledChatRoom = styled.div`\n  height: inherit;\n  width: 100%;\n`;\n\nconst MessagesArea = styled.div`\n  height: calc(100% - 8vh);\n  width: 100%;\n  padding: 1rem;\n  padding-right: 0.5rem;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n\n  &.preview-open {\n    height: calc(100% - 8vh - 15vh);\n  }\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n`;\n\nconst MessageWrap = styled.div`\n  display: flex;\n  max-width: 70%;\n  align-items: center;\n\n  & > * {\n    margin-right: 0.5rem;\n  }\n\n  &.header {\n    align-self: center;\n  }\n\n  &.sent {\n    align-self: end;\n    align-self: flex-end;\n  }\n\n  &.received {\n    align-self: start;\n    align-self: flex-start;\n  }\n`;\n\nconst MessageDiv = styled.div`\n  width: 100%;\n  background: #fafafa;\n  border-radius: 20px;\n  padding: 1rem;\n\n  & > * {\n    margin-top: 0.5rem;\n  }\n\n  .header > & {\n    background: 0;\n    text-align: center;\n    padding-top: 0.25rem;\n  }\n\n  .sent > & {\n    color: white;\n    background: blue;\n  }\n`;\n\nconst Form = styled.form`\n  display: flex;\n  width: 100%;\n  height: 8vh;\n  align-items: center;\n  padding: 0.25rem 0.5rem;\n  position: relative;\n`;\n\nconst InputText = styled.input`\n  width: 100%;\n  padding: 0.5rem 1rem;\n  padding-right: 4rem;\n  border-radius: 20px;\n  border: 0;\n`;\n\nconst InputImg = styled.input`\n  opacity: 0;\n  position: fixed;\n  left: -100vw;\n`;\n\nconst LabelInputImg = styled.label`\n  padding: 0 1rem;\n  cursor: pointer;\n\n  &:hover {\n    color: black;\n  }\n`;\n\nconst SendButton = styled.button`\n  background: transparent;\n  border: 0;\n  position: absolute;\n  right: 1rem;\n  height: 100%;\n\n  &:not(:disabled) {\n    color: #3d84a8;\n  }\n`;\n\nconst ImagePreview = styled.div`\n  height: 15vh;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  padding: 0.5rem 2rem;\n`;\n\nconst Image = styled.img`\n  max-height: 100%;\n  max-width: 100%;\n  border-radius: 8px;\n  cursor: pointer;\n\n  .fs-modal > & {\n    cursor: unset;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n  }\n`;\n\nconst DeleteImage = styled.button`\n  margin: 0 0.5rem;\n  border: 0;\n  background: 0;\n  color: inherit;\n\n  &:hover {\n    color: black;\n  }\n`;\n\nconst FSModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n`;\n\nconst CloseButton = styled.button`\n  width: 3rem;\n  height: 3rem;\n  top: 1rem;\n  right: 1rem;\n  position: absolute;\n  border: 0;\n  background: 0;\n`;\n\nconst X = styled.div`\n  width: 1.8rem;\n  height: 1.8rem;\n  background: #f5f5f5;\n  margin: 0 auto;\n  clip-path: polygon(\n    0% 5%,\n    45% 50%,\n    0% 95%,\n    5% 100%,\n    50% 55%,\n    95% 100%,\n    100% 95%,\n    55% 50%,\n    100% 5%,\n    95% 0%,\n    50% 45%,\n    5% 0%\n  );\n`;\n\nconst Background = styled.div`\n  height: 100%;\n  width: 100%;\n  background: #424242;\n  top: 0;\n  left: 0;\n  position: absolute;\n  z-index: -1;\n`;\n\nconst PhotoFullScreen = ({\n  src,\n  close,\n}: {\n  src: string;\n  close: () => void;\n}) => {\n  useEffect(() => {\n    const keyDownHandler = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\" || e.code === \"Escape\") close();\n    };\n    window.addEventListener(\"keydown\", keyDownHandler);\n\n    return () => window.removeEventListener(\"keydown\", keyDownHandler);\n  }, [close]);\n\n  const [placeholderShown, setPlaceholderShown] = useState(true);\n\n  return (\n    <FSModal className=\"fs-modal\">\n      <Background onClick={() => close()} />\n      <Image\n        onLoad={() => setPlaceholderShown(false)}\n        src={src || imgPlaceholder}\n        width=\"80%\"\n      />\n      {placeholderShown && <Image src={imgPlaceholder} width=\"80%\" />}\n\n      <CloseButton onClick={() => close()}>\n        <X />\n      </CloseButton>\n    </FSModal>\n  );\n};\n\nconst UserIconWrap = ({\n  user,\n  onClick,\n}: {\n  user: User;\n  onClick: () => void;\n}) => (\n  <StyledIconWrap onClick={onClick}>\n    <UserIcon width=\"6vh\" height=\"6vh\" src={user.profile.photos[0].src} />\n    <small style={{ paddingLeft: \"0.5rem\" }}>{user.profile.name}</small>\n  </StyledIconWrap>\n);\n\ninterface ChatRoomProps {\n  convo: Conversation;\n  close: () => void;\n}\n\nconst ChatRoom = ({ convo, close }: ChatRoomProps) => {\n  const [isOpen, setIsOpen] = useState(Boolean(convo));\n  const user = useContext(UserContext);\n  const users = useContext(UsersContext);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const convoRef = useRef(doc(db, \"conversations\", convo.id));\n  const messagesRef = useRef(\n    collection(db, \"conversations\", convo.id, \"messages\")\n  );\n\n  const messAreaRef = useRef<HTMLDivElement>(null);\n\n  const [textVal, setTextVal] = useState(\"\");\n  const [imgVal, setImgVal] = useState<File | null>(null);\n  const [imgURL, setImgURL] = useState(\"\");\n  const imgInputRef = useRef<HTMLInputElement>(null);\n\n  const [fullScreen, setFullScreen] = useState<string>(\"\");\n\n  const [openProfile, setOpenProfile] = useState(false);\n  const [doOpenProfile, setDoOpenProfile] = useState(false);\n\n  const match = useRef(\n    users.find(\n      (cur) => cur.uid !== user?.uid && convo.members.includes(cur.uid)\n    )\n  );\n\n  const submitHandler = async (e: SyntheticEvent) => {\n    if (!user) return;\n    e.preventDefault();\n\n    const text = textVal;\n    const img = imgVal\n      ? new File([imgVal], imgVal.name, { type: imgVal.type })\n      : null;\n\n    setTextVal(\"\");\n    setImgURL(\"\");\n    setImgVal(null);\n\n    const msgID = uniqid();\n\n    const newMessage: Message = {\n      origin: user.uid,\n      text: text,\n      timestamp: Timestamp.now().toMillis(),\n      id: msgID,\n      seen: false,\n      assetsPresent: Boolean(img),\n    };\n\n    setDoc(doc(messagesRef.current, msgID), newMessage);\n    updateDoc(convoRef.current, {\n      latest: newMessage,\n    });\n\n    if (img) {\n      const userPath = `users/${user.uid}`;\n      const userRef = ref(store, userPath);\n\n      const photoRef = ref(userRef, uniqid() + \".\" + img.type.split(\"/\")[1]);\n      const snap = await uploadBytes(photoRef, img);\n      const src = await getDownloadURL(photoRef);\n\n      updateDoc(doc(messagesRef.current, msgID), {\n        assets: {\n          path: snap.metadata.fullPath,\n          src,\n        },\n      });\n    }\n\n    if (match.current && !match.current.isHuman) {\n      const replyId = uniqid();\n      const autoReply: Message = {\n        origin: match.current.uid,\n        text: \"This is a test message! Hope you are enjoying this project!\",\n        timestamp: Timestamp.now().toMillis() + 1000,\n        id: replyId,\n        seen: false,\n      };\n\n      setDoc(doc(messagesRef.current, replyId), autoReply);\n    }\n  };\n\n  useEffect(() => {\n    if (!messAreaRef.current) return;\n    messAreaRef.current.scroll({\n      top: messAreaRef.current.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }, [messages]);\n\n  useEffect(() => {\n    if (!user) return;\n    if (convo.latest.origin !== user.uid && !convo.latest.seen) {\n      updateDoc(convoRef.current, {\n        \"latest.seen\": true,\n      });\n    }\n\n    let unsubMessages = onSnapshot(messagesRef.current, (snap) => {\n      const msgDocs = snap.docs\n        .map((msgDoc) => msgDoc.data() as Message)\n        .sort((a, b) => a.timestamp - b.timestamp);\n\n      setMessages(msgDocs);\n\n      const latestMsg = msgDocs[msgDocs.length - 1];\n      if (latestMsg.id !== convo.latest.id)\n        updateDoc(convoRef.current, {\n          latest: latestMsg,\n        });\n    });\n\n    return () => unsubMessages();\n  }, [convo, user]);\n\n  useEffect(() => {\n    if (!imgVal) {\n      setImgURL(\"\");\n    } else {\n      getImageUrl(imgVal, undefined).then((url) => setImgURL(url));\n    }\n  }, [imgVal]);\n\n  if (!match.current) return null;\n\n  return (\n    <ModalMenu\n      title={\n        <UserIconWrap\n          onClick={() => {\n            setDoOpenProfile(true);\n            setOpenProfile(true);\n          }}\n          user={match.current}\n        />\n      }\n      buttons={{\n        left: (\n          <TopButtonBack\n            onClick={() => {\n              setIsOpen(false);\n              window.setTimeout(() => close(), 300);\n            }}\n          />\n        ),\n      }}\n      doOpen={isOpen}\n      animation=\"horizontal\">\n      <StyledChatRoom>\n        <MessagesArea\n          onLoad={() =>\n            messAreaRef.current?.scroll({\n              top: messAreaRef.current.scrollHeight,\n              behavior: \"smooth\",\n            })\n          }\n          ref={messAreaRef}\n          className={imgVal ? \"preview-open\" : \"\"}>\n          {messages.map((message) => (\n            <>\n              <small\n                key={message.id + \"date\"}\n                style={{ marginBottom: \"-0.25rem\", textAlign: \"center\" }}>\n                {formatDate(message.timestamp)}\n              </small>\n              <MessageWrap\n                key={message.id}\n                className={\n                  message.origin === \"header\"\n                    ? \"header\"\n                    : message.origin === user?.uid\n                    ? \"sent\"\n                    : \"received\"\n                }>\n                {message.origin !== \"header\" &&\n                  message.origin !== user?.uid && (\n                    <UserIcon\n                      width=\"5vw\"\n                      height=\"5vw\"\n                      src={\n                        match.current?.profile.photos[0].src || userPlaceholder\n                      }\n                    />\n                  )}\n                <MessageDiv>\n                  {message.text}\n                  {message.assetsPresent && (\n                    <>\n                      {message.assets && (\n                        <Image\n                          onClick={() =>\n                            setFullScreen(message.assets?.src || imgPlaceholder)\n                          }\n                          onLoad={(e: SyntheticEvent) =>\n                            e.currentTarget.nextElementSibling?.setAttribute(\n                              \"hidden\",\n                              \"true\"\n                            )\n                          }\n                          src={message.assets.src}\n                        />\n                      )}\n                      <Image src={imgPlaceholder} />\n                    </>\n                  )}\n                </MessageDiv>\n              </MessageWrap>\n            </>\n          ))}\n        </MessagesArea>\n        {imgVal && (\n          <ImagePreview>\n            <Image\n              onClick={() => setFullScreen(imgURL)}\n              src={imgURL ? imgURL : imgPlaceholder}\n            />\n            <DeleteImage\n              onClick={() => {\n                setImgVal(null);\n                if (imgInputRef.current) imgInputRef.current.value = \"\";\n              }}>\n              <FontAwesomeIcon size=\"lg\" icon={faBackspace} />\n            </DeleteImage>\n          </ImagePreview>\n        )}\n        <Form onSubmit={submitHandler}>\n          <InputImg\n            onChange={(e) =>\n              setImgVal(e.currentTarget.files ? e.currentTarget.files[0] : null)\n            }\n            id=\"image-input\"\n            type=\"file\"\n            accept=\"image/*\"\n            ref={imgInputRef}\n          />\n          <LabelInputImg htmlFor=\"image-input\">\n            <FontAwesomeIcon size=\"lg\" icon={faImage} />\n          </LabelInputImg>\n          <InputText\n            type=\"text\"\n            value={textVal}\n            onInput={(e) => setTextVal(e.currentTarget.value)}\n          />\n          <SendButton type=\"submit\" disabled={!textVal && !imgVal}>\n            Send\n          </SendButton>\n        </Form>\n        {openProfile && (\n          <ModalMenu\n            doOpen={doOpenProfile}\n            title={match.current.profile.name}\n            animation=\"horizontal\"\n            buttons={{\n              left: (\n                <TopButtonBack\n                  onClick={() => {\n                    setDoOpenProfile(false);\n                    window.setTimeout(() => setOpenProfile(false), 300);\n                  }}\n                />\n              ),\n            }}>\n            <Section>\n              <ProfileCard\n                user={match.current}\n                compareLocation={user?.location}\n              />\n            </Section>\n          </ModalMenu>\n        )}\n\n        {fullScreen && (\n          <PhotoFullScreen src={fullScreen} close={() => setFullScreen(\"\")} />\n        )}\n      </StyledChatRoom>\n    </ModalMenu>\n  );\n};\n\nexport default ChatRoom;\n","import React, { useContext, useState } from \"react\";\nimport styled from \"styled-components\";\nimport ConversationsContext from \"../context/ConversationsContext\";\nimport UserContext from \"../context/UserContext\";\nimport UsersContext from \"../context/UsersContext\";\nimport userPlaceholder from \"../assets/placeholders/userPlaceholder.png\";\nimport { Conversation } from \"../types\";\nimport ChatRoom from \"./ChatRoom\";\nimport UserIcon from \"./UserIcon\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faImage, faReply } from \"@fortawesome/free-solid-svg-icons\";\n\nconst ChatPage = styled.div`\n  height: calc(100% - 10vh);\n  overflow-y: scroll;\n  color: #424242;\n`;\n\nconst Title = styled.h2`\n  font-size: 1.2rem;\n  font-weight: 400;\n  margin: 1rem;\n  color: #3d84a8;\n`;\n\nconst NewMatchesWrap = styled.div`\n  max-width: 100%;\n  overflow-x: scroll;\n  padding: 0.5rem 1rem;\n  padding-bottom: 0;\n  display: flex;\n\n  & > * {\n    margin: 0 0.5rem;\n    flex-shrink: 0;\n  }\n`;\n\nconst UserIconWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  cursor: pointer;\n`;\n\nconst UserName = styled.h3`\n  margin: 0;\n  font-weight: 600;\n  margin: 0.25rem 0;\n  color: black;\n`;\n\nconst ConvosWrap = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem 1rem;\n  width: 100%;\n  max-width: 100%;\n\n  & > * {\n    margin: 0.5rem 0;\n  }\n`;\n\nconst Convo = styled.div`\n  display: grid;\n  grid: 1fr / 100px 1fr;\n  place-items: center;\n  cursor: pointer;\n`;\n\nconst ConvoTextWrap = styled.div`\n  width: 100%;\n  overflow-x: hidden;\n  min-height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  border-bottom: 1px solid lightgrey;\n`;\n\nconst ConvoText = styled.div`\n  max-width: 90%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nconst Chat = () => {\n  const user = useContext(UserContext);\n  const users = useContext(UsersContext);\n  const conversations = useContext(ConversationsContext);\n\n  const [openConvo, setOpenConvo] = useState<Conversation | null>(null);\n\n  const findUser = (members: [uid1: string, uid2: string]) =>\n    users.find((cur) => cur.uid !== user?.uid && members.includes(cur.uid));\n\n  return (\n    <ChatPage>\n      {openConvo && (\n        <ChatRoom convo={openConvo} close={() => setOpenConvo(null)} />\n      )}\n      {user && users.length >= 1 && conversations.length >= 1 && (\n        <>\n          <Title>New Matches</Title>\n          <NewMatchesWrap>\n            {conversations\n              .filter((convo) => convo.latest.origin === \"header\")\n              .sort((a, b) => b.timestamp - a.timestamp)\n              .map((convo) => {\n                const match = findUser(convo.members);\n\n                return (\n                  <UserIconWrap\n                    key={convo.id}\n                    onClick={() => setOpenConvo(convo)}>\n                    <UserIcon\n                      key={match?.uid}\n                      width=\"80px\"\n                      height=\"80px\"\n                      src={match?.profile.photos[0].src || userPlaceholder}\n                      className={convo.latest.seen ? \"\" : \"not-seen\"}\n                    />\n                    <UserName>{match?.profile.name || \"\"}</UserName>\n                  </UserIconWrap>\n                );\n              })}\n          </NewMatchesWrap>\n          <Title>Messages</Title>\n          <ConvosWrap>\n            {conversations\n              .filter((convo) => convo.latest.origin !== \"header\")\n              .sort((a, b) => b.latest.timestamp - a.latest.timestamp)\n              .map((convo) => {\n                const match = findUser(convo.members);\n                return (\n                  <Convo key={convo.id} onClick={() => setOpenConvo(convo)}>\n                    <UserIcon\n                      width=\"70px\"\n                      height=\"70px\"\n                      src={match?.profile.photos[0].src || userPlaceholder}\n                      className={\n                        convo.latest.origin === user.uid || convo.latest.seen\n                          ? \"\"\n                          : \"not-seen\"\n                      }\n                    />\n\n                    <ConvoTextWrap>\n                      <UserName>{match?.profile.name || \"\"}</UserName>\n                      <ConvoText>\n                        {convo.latest.origin === user.uid && (\n                          <FontAwesomeIcon\n                            style={{ marginRight: \"0.5rem\" }}\n                            size=\"sm\"\n                            color=\"inherit\"\n                            icon={faReply}\n                          />\n                        )}\n                        {convo.latest.assetsPresent && (\n                          <FontAwesomeIcon\n                            style={{ marginRight: \"0.5rem\" }}\n                            size=\"sm\"\n                            color=\"inherit\"\n                            icon={faImage}\n                          />\n                        )}\n                        {convo.latest.text}\n                      </ConvoText>\n                    </ConvoTextWrap>\n                  </Convo>\n                );\n              })}\n          </ConvosWrap>\n        </>\n      )}\n      {conversations.length < 1 && (\n        <div\n          style={{\n            textAlign: \"center\",\n            padding: \"4rem 1rem 0 1rem\",\n            fontSize: \"1.1rem\",\n          }}>\n          No Matches to display yet. <br />\n          <br />\n          You should probably go back to the feed!\n        </div>\n      )}\n    </ChatPage>\n  );\n};\n\nexport default Chat;\n","import {\n  doc,\n  updateDoc,\n  Timestamp,\n  collection,\n  query,\n  where,\n  onSnapshot,\n} from \"firebase/firestore\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Switch, Route } from \"react-router\";\nimport NavBar from \"./NavBar\";\nimport styled from \"styled-components\";\nimport { Conversation } from \"../types\";\nimport { db } from \"../App\";\nimport UserContext from \"../context/UserContext\";\nimport Feed from \"./Feed\";\nimport Profile from \"./Profile\";\nimport Chat from \"./Chat\";\nimport { User } from \"../types\";\nimport { UsersProvider } from \"../context/UsersContext\";\nimport { ConversationsProvider } from \"../context/ConversationsContext\";\n\nconst StyledMain = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  max-height: 100%;\n`;\n\nconst Main = () => {\n  const user = useContext(UserContext);\n\n  const [users, setUsers] = useState<User[]>([]);\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n\n  useEffect(() => {\n    if (!user) return;\n\n    let unsubUsers = onSnapshot(collection(db, \"users\"), (snap) =>\n      setUsers(snap.docs.map((userDoc) => userDoc.data() as User))\n    );\n\n    let unsubConvo = onSnapshot(\n      query(\n        collection(db, \"conversations\"),\n        where(\"members\", \"array-contains\", user.uid)\n      ),\n      (snap) =>\n        setConversations(\n          snap.docs.map((convoDoc) => convoDoc.data() as Conversation)\n        )\n    );\n\n    return () => {\n      unsubUsers();\n      unsubConvo();\n    };\n  }, [user]);\n\n  useEffect(() => {\n    if (!user) return;\n\n    // if less than 24 hours use previous location -->\n    // Solves problem with browsers that ask each time\n    if (Timestamp.now().seconds - user.location.timestamp < 86400) return;\n\n    if (\"geolocation\" in navigator)\n      navigator.geolocation.getCurrentPosition(\n        (res) => {\n          const { latitude: lat, longitude: lon } = res.coords;\n          if (lat === user.location.lat && lon === user.location.lon) return;\n          const docRef = doc(db, \"users\", user.uid);\n          updateDoc(docRef, {\n            location: { lat, lon, timestamp: Timestamp.now().seconds },\n          });\n        },\n        (err) => {\n          console.error(err);\n        }\n      );\n  }, [user]);\n\n  return (\n    <UsersProvider value={users}>\n      <ConversationsProvider value={conversations}>\n        <StyledMain>\n          <Switch>\n            <Route exact path=\"/\">\n              <Feed />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile />\n            </Route>\n            <Route exact path=\"/chat\">\n              <Chat />\n            </Route>\n          </Switch>\n          <NavBar />\n        </StyledMain>\n      </ConversationsProvider>\n    </UsersProvider>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\nimport icon from \"../assets/icons/waves-blue.png\";\nimport styled from \"styled-components\";\n\nconst StyledHeader = styled.header`\n  display: flex;\n  align-items: center;\n  height: 8vh;\n`;\n\nconst Title = styled.h1`\n  margin: 0 0.5rem 0 1rem;\n  font-size: 1.7rem;\n  font-weight: 500;\n`;\n\nconst Icon = styled.img.attrs((props) => ({\n  src: props.src,\n  alt: \"Waves App Logo\",\n  width: 40,\n}))``;\n\nconst Header = () => (\n  <StyledHeader>\n    <Title>waves</Title>\n    <Icon src={icon} />\n  </StyledHeader>\n);\n\nexport default Header;\n","import { User } from \"../types\";\nimport { address, name, lorem, random, datatype, image } from \"faker\";\n\nconst orientations = [\n  \"Straight\",\n  \"Gay\",\n  \"Lesbian\",\n  \"Bisexual\",\n  \"Queer\",\n  \"Questionning\",\n];\n\nconst createRandomUser = ({\n  isHuman,\n}: {\n  isHuman?: boolean;\n} = {}): User => {\n  if (!isHuman) isHuman = false;\n  const getPhotos = () =>\n    new Array(Math.round(Math.random() * 2 + 3)).fill(null).map(() => ({\n      src: image.imageUrl(350, 467, undefined, true, true),\n    }));\n\n  const profile = {\n    gender: name.gender(),\n    name: name.firstName(),\n    age: Math.round(Math.random() * 50 + 21),\n    description: lorem.sentence() + \" \" + lorem.sentence(),\n    city: address.cityName(),\n    job: name.jobTitle(),\n    orientation: orientations[Math.round(Math.random() * 5)],\n    passions: new Array(Math.round(Math.random() * 2 + 3))\n      .fill(null)\n      .map(() => random.word()),\n    photos: getPhotos(),\n  };\n\n  return {\n    isHuman,\n    profile,\n    uid: datatype.uuid(),\n    likes: [] as string[],\n    dislikes: [] as string[],\n    settings: {\n      distance: 200,\n      minAge: 18,\n      maxAge: 100,\n      global: true,\n    },\n    location: {\n      lat: Number(address.latitude()),\n      lon: Number(address.longitude()),\n      timestamp: 0,\n    },\n  };\n};\n\nexport default createRandomUser;\n","import { User, Photo } from \"../types\";\n\nconst createEmptyUser = (): User => {\n  const profile = {\n    name: \"\",\n    age: 21,\n    description: \"\",\n    photos: [] as Photo[],\n    city: \"\",\n    job: \"\",\n    gender: \"\",\n    orientation: \"\",\n    passions: [] as string[],\n  };\n\n  const settings = {\n    distance: 200,\n    minAge: 18,\n    maxAge: 100,\n    global: true,\n  };\n\n  const location = {\n    lat: 0,\n    lon: 0,\n    timestamp: 0,\n  };\n\n  return {\n    profile,\n    settings,\n    location,\n    uid: \"\",\n    isHuman: true,\n    likes: [] as string[],\n    dislikes: [] as string[],\n  };\n};\n\nexport default createEmptyUser;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { setDoc, doc, Timestamp } from \"firebase/firestore\";\nimport UserContext from \"../context/UserContext\";\nimport { User } from \"../types\";\nimport { db } from \"../App\";\nimport ProfileCard from \"./ProfileCard\";\nimport uniqid from \"uniqid\";\n\nconst MatchListener = styled.div``;\n\nconst MatchModal = styled.div`\n  position: fixed;\n  top: 0;\n  right: 0;\n  background: lightblue;\n  width: 100%;\n  height: 100%;\n  z-index: 99;\n  background: #3d84a8;\n  box-shadow: inset 0 0 15vh 15vh #424242;\n  z-index: 100;\n`;\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  color: #f5f5f5;\n  text-align: center;\n  order: -1;\n  margin-top: 4rem;\n  margin-bottom: 2rem;\n`;\n\nconst CloseButton = styled.button`\n  width: 3rem;\n  height: 3rem;\n  top: 1rem;\n  right: 1rem;\n  position: absolute;\n  border: 0;\n  background: 0;\n`;\n\nconst X = styled.div`\n  width: 1.8rem;\n  height: 1.8rem;\n  background: #f5f5f5;\n  margin: 0 auto;\n  clip-path: polygon(\n    0% 5%,\n    45% 50%,\n    0% 95%,\n    5% 100%,\n    50% 55%,\n    95% 100%,\n    100% 95%,\n    55% 50%,\n    100% 5%,\n    95% 0%,\n    50% 45%,\n    5% 0%\n  );\n`;\n\nconst Match = () => {\n  const [match, setMatch] = useState<User | null>(null);\n  const user = useContext(UserContext);\n\n  useEffect(() => {\n    if (!user) return;\n    const matchHandler = async (e: CustomEventInit) => {\n      if (!user) return;\n      const { match, timestamp }: { match: User; timestamp: number } = e.detail;\n\n      setMatch(match);\n\n      const messageID = uniqid();\n\n      const headerMsg = {\n        origin: \"header\",\n        text: \"You have matched with each other! You can now start talking.\",\n        timestamp: Timestamp.now().toMillis(),\n        id: messageID,\n        seen: false,\n      };\n\n      const convoID = uniqid();\n\n      setDoc(doc(db, \"conversations\", convoID), {\n        timestamp,\n        members: [user.uid, match.uid],\n        id: convoID,\n        latest: headerMsg,\n      });\n\n      setDoc(\n        doc(db, \"conversations\", convoID, \"messages\", messageID),\n        headerMsg\n      );\n    };\n\n    window.addEventListener(\"newMatch\", matchHandler);\n\n    return () => window.removeEventListener(\"newMatch\", matchHandler);\n  }, [user]);\n\n  return (\n    <MatchListener>\n      {match && (\n        <MatchModal>\n          <ProfileCard user={match} onlyPhotos>\n            <CloseButton onClick={() => setMatch(null)}>\n              <X />\n            </CloseButton>\n            <Title>New match with {match.profile.name}</Title>\n          </ProfileCard>\n        </MatchModal>\n      )}\n    </MatchListener>\n  );\n};\n\nexport default Match;\n","import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route, useLocation, Redirect } from \"react-router\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport Login from \"./components/Login\";\nimport Main from \"./components/Main\";\nimport Header from \"./components/Header\";\nimport { firebaseConfig } from \"./firebase-config\";\nimport { UserProvider } from \"./context/UserContext\";\nimport { doc, onSnapshot, setDoc } from \"firebase/firestore\";\nimport { User } from \"./types\";\nimport createRandomUser from \"./utils/createRandomUser\";\nimport createEmptyUser from \"./utils/createEmptyUser\";\nimport { getStorage } from \"firebase/storage\";\nimport Match from \"./components/Match\";\n\n// declare global {\n//   interface Window {\n//     addUsers: (n: number) => void;\n//   }\n// }\n\n// window.addUsers = (n) => {\n//   for (let i = 0; i < n; i++) {\n//     const newUser = createRandomUser();\n//     const docRef = doc(db, \"users\", newUser.uid);\n//     setDoc(docRef, newUser);\n//   }\n// };\n\nfunction App() {\n  const location = useLocation();\n  const [userID, setUserID] = useState<string | null>(null);\n  const [user, setUser] = useState<User | null>(null);\n\n  useEffect(() => {\n    const unsub = onAuthStateChanged(getAuth(), (newUser) => {\n      if (newUser) {\n        setUserID(newUser.uid);\n      } else {\n        setUserID(null);\n      }\n    });\n    return () => unsub();\n  }, []);\n\n  useEffect(() => {\n    let unsub: () => void;\n\n    if (userID) {\n      const docRef = doc(db, \"users\", userID);\n      unsub = onSnapshot(docRef, (snap) => {\n        if (snap.exists()) setUser(snap.data() as User);\n        else {\n          let newObj = getAuth().currentUser?.isAnonymous\n            ? { ...createRandomUser(), uid: userID, isHuman: true }\n            : { ...createEmptyUser(), uid: userID };\n          setDoc(docRef, newObj, { merge: true });\n        }\n      });\n    } else {\n      setUser(null);\n    }\n\n    return () => {\n      if (unsub) unsub();\n    };\n  }, [userID]);\n\n  return (\n    <UserProvider value={user}>\n      {!user && <Redirect push to=\"/login\" />}\n      <Match />\n      <Header />\n      <Switch key={location.pathname} location={location}>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/\">\n          <Main />\n        </Route>\n      </Switch>\n    </UserProvider>\n  );\n}\n\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore();\nconst store = getStorage();\n\nexport default App;\n\nexport { app, db, store };\n","const firebaseConfig: { [index: string]: string } = {\n  apiKey: \"AIzaSyDvC9uawBvmI8qiXNipNtlpuxlS2anrUs8\",\n  authDomain: \"tinder-clone-cee58.firebaseapp.com\",\n  projectId: \"tinder-clone-cee58\",\n  storageBucket: \"tinder-clone-cee58.appspot.com\",\n  messagingSenderId: \"591803385758\",\n  appId: \"1:591803385758:web:9b073b3d12082b1b9d388f\",\n};\n\nexport { firebaseConfig };\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"normalize.css\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}